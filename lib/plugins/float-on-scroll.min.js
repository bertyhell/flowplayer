/*
   Flowplayer 
   @version 2.2.0
   @built   Mon, 14 Oct 2019 07:46:01 GMT
   @commit  1c041ed02b7ffd0f70168cae6c677143bcac890c
   @license Flowplayer commercial license - https://flowplayer.com/commercial-license
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.flowplayer=e.flowplayer||{},e.flowplayer["float_on-scroll"]=t())}(this,function(){"use strict";function e(e,t){for(var n in t)e[n]=t[n];return e}function t(e){return Array.isArray(e)?e.slice(0):e.split(".")}function n(e,n,o){for(n=t(n);n.length;){if(void 0===e||null===e)return o;e=e[n.shift()]}return void 0===e||null===e?o:e}function o(e){return w.call(e)}function r(e,t){var n=t||60,o=Math.ceil(1e3/n),r=0,i=null;return function(){var t=Date.now()-r;null===i&&(i=R(function(){i=null,e.apply(this,arguments),r=Date.now()},o-t))}}function i(e){var t=document.createEvent("Event");return t.initEvent(e,!1,!0),t}function a(t){return t.emit=function(n,o,r){r=r||{};var a=i(n);return o&&e(a,{data:o||{}}),t.dispatchEvent(a),!1===r.return_self?a:t},t.on=function(e,n){return"string"==typeof e&&(e=e.split(" ")),e.forEach(function(e){t.addEventListener(e,n)}),t},t.off=function(e,n){return t.removeEventListener(e,n),t},t.one=t.once=function(e,n){function o(r){t.off(e,o),n(r)}return t.on(e,o)},t}function u(e,t,n){var o=s(document.createElement(e));if(b(t)&&(n=t,t=!1),b(n)||(n=[n]),o.append(n.filter(function(e){return e})),"object"!=typeof t)return o;for(var r in t)r in o?o[r]=t[r]:o.setAttribute(r,t[r]);return o}function l(e){return e&&e[x]}function f(e){var t=e.tagName;e[x]=1,e.find=function(t){var n=e.querySelector(t);return n?s(n):n},e.html=function(t){return e.innerHTML=t,e},e.empty=function(){return e.innerHTML=S,e},e.offset=function(){var t={top:0,left:0},n=e;do{t.left+=n.offsetLeft||0,t.top+=n.offsetTop||0}while(n=n.offsetParent);return t},e.innerWidth=function(){var t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)};var n=e.insert=function(t,n){return b(n)?n.map(function(n){return e.insert(t,n)})[0]:(n="string"==typeof n?e.insertAdjacentHTML(t,n):e.insertAdjacentElement?e.insertAdjacentElement(t,n):e.appendChild(n),s(n))};return e.append=n.bind(e,"beforeend"),e.prepend=n.bind(e,"afterbegin"),e.css=function(t,n){if("object"==typeof t){for(var o in t)e.css(o,t[o]);return e}return void 0===n?getComputedStyle(e)[t]:(1*n&&(n+="px"),e.style[t]=n,e)},e.show=function(){return e.css({display:~M.indexOf(t)?"inline":"block"})},e.hide=function(){return e.css({display:"none"})},e.remove=function(){var t=e.parentNode;t&&t.removeChild(e)},e.attr=function(t,n){return void 0==n?e.getAttribute(t):(e.setAttribute(t,n),e)},e.txt=function(t){return e.textContent=t,e},e.fp=function(t){return e.addClass("fp-"+t)},e.addClass=function(t){return t.split(I).forEach(function(t){e.hasClass(t)||(e.className+=(e.className?I:S)+t)}),e},e.removeClass=function(t){t=t.split(I);var n=e.className.split(I);return e.className=n.filter(function(e){return!~t.indexOf(e)}).join(" "),e},e.toggleClass=function(t,n){return void 0===n&&(n=!e.hasClass(t)),n?e.addClass(t):e.removeClass(t)},e.findAll=function(t){return o(e.querySelectorAll(t))},e.hasClass=function(t){return~e.className.split(I).indexOf(t)},e}function s(e){return void 0===e?e:l(e)?e:f(a(e))}function c(e,t){if("string"==typeof e&&"<"==e[0])return u(e.slice(1,-1),t);if("string"!=typeof e)return s(e);var n=t instanceof HTMLElement&&t.querySelector(".fp-"+e)||document.querySelector(e);return n?s(n):void 0}function d(e){const t=e.getBoundingClientRect(),n=window.innerHeight,o=t.y;return o>n?0:o+t.height<0?0:t.y<0?(t.height+o)/t.height:n-t.y>t.height?1:Math.abs((n-t.y)/t.height)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function E(e){var t=p("svg");return t.setAttribute("viewBox",e.coords),e.name&&t.setAttribute("class",e.name),e.title&&t.setAttribute("title",e.title),e.title&&t.setAttribute("aria-label",e.title),t.setAttribute("tabindex","0"),t.appendChild(m(e.link)),c(t)}function m(e){var t=p("use");return t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),t}function _(){return d(N())>K}function A(){return q.FLOATING_CONTAINER=q.FLOATING_CONTAINER||c.div().attr("id",B.CONTAINER_NAME)}function N(){return q.PLACEHOLDER=q.PLACEHOLDER||c.div().attr("id",B.PLACEHOLDER_NAME)}function O(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function v(e,t,n){if(0!=n.reaper&&!n.floating){var o=A(),r=N(),i=c.p().txt(n._t("float_on_scroll.popped_out","video playing in floating mode"));r.empty().appendChild(i);var a=t.aspect_ratio.cloneNode(!1);a&&r.append(a),O(r,t),o.append(t),o.addClass(B.ON),o.toggleClass(B.NO_STD_CONTROLS,g(n)),e.pop_out_container.appendChild(o),n.emit(L.RESIZE),n.emit(H)}}function y(e,t,n){if(0!=n.reaper&&n.floating){var o=A();O(t,N()),o.removeClass(B.ON),o.parentElement.removeChild(o),n.emit(L.RESIZE),n.emit(k)}}function C(e,t,n,o){var r=c.div("fp-exit-float");r.append(E(Y).attr("role","button")),r.on("click",function(){t.was_user_toggled=!0,o.togglePlay(!1),y(t,n,o)}),e.append(r);var i=c.div("fp-mute-float"),a=E(j).attr("role","button"),u=E(W).attr("role","button");i.append([a,u]),i.on("click",function(){o.toggleMute(!o.muted)}),e.append(i)}function g(e){return G&n(e,"opts.ui",0)}function T(e,t,o){if(!(e.multiplay||"float_on_scroll"in e&&0==e.float_on_scroll)){h()&&console.warn("iframe detected - floating player not supported in iframe");var i={pop_out_container:n(e,"float_on_scroll.container",document.body),was_user_toggled:!1},a=n(t,"ui.header");a&&C(a,i,t,o);var u=r(function(){_()&&y(i,t,o)});o.on(L.VIEW_LEAVE,function(){o.paused||i.was_user_toggled||v(i,t,o)}),o.on(L.VIEW_ENTER,function(){i.was_user_toggled=!1}),o.on(H,function(){window.on("scroll",u),o.floating=!0,o.setState(z,!0)}),o.on(k,function(){window.off("scroll",u),o.floating=!1,o.setState(z,!1)})}}function h(){try{return window.self!==window.top}catch(e){return!0}}var L={MOUNT:"mount",ERROR:"error",CONTEXT_MENU:"contextmenu",CLICK:"click",DBL_CLICK:"dblclick",KEYUP:"keyup",KEYDOWN:"keydown",LOAD:"load",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",FULLSCREEN_CHANGE:"fullscreenchange",METADATA:"loadedmetadata",DATA:"loadeddata",PROGRESS:"progress",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",VOLUME_CHANGE:"volumechange",PAUSE:"pause",PLAYING:"playing",PLAY:"play",WAITING:"waiting",CAN_PLAY:"canplay",ENDED:"ended",SEEKED:"seeked",SEEKING:"seeking",DURATION_CHANGE:"durationchange",BEFORE_PLAY:"beforeplay",BEFORE_PAUSE:"beforepause",STATE:"state",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:"src",RECOVER:"recover",REAP:"reap",CONFIG:"config",QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal",RECOMMENDATIONS_READY:"recommendationsready",AUDIO_ONLY_SOURCE:"audioonlysource"},w=[].slice,R="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout,S="",I=" ",b=Array.isArray,U="undefined"!=typeof window&&a(window),D="undefined"!=typeof document&&a(document),M=["span","a","em","p","i"],P=M.concat(["div","strong","video","img","ol","ul","li","script"]),x="__flowplayer__";c.window=U,c.document=D,c.el=u,P.forEach(function(e){c[e]=function(t,n){return"string"==typeof t&&(t={class:t}),u(e,t,n)}});var k="float:pop:in",H="float:pop:out",F=Object.freeze({POP_IN:k,POP_OUT:H}),G=1<<20,V=Object.freeze({NO_STANDARD_CONTROLS:G}),j={coords:"-22 -22 122 122",link:"#fp-mute",translation_key:"core.mute",name:"fp-mute"},W={coords:"-22 -22 122 122",link:"#fp-unmute",translation_key:"core.mute",name:"fp-unmute"},Y={coords:"19 0 80 80",link:"#fp-close",translation_key:"core.close",name:"fp-close"},q={PLACEHOLDER:void 0,FLOATING_CONTAINER:void 0},B={CONTAINER_NAME:"flowplayer-floating-container",PLACEHOLDER_NAME:"flowplayer-floating-placeholder",ON:"fp-on",FLOATING:"is-floating",NO_STD_CONTROLS:"no-standard-controls"},K=.8,z="is-popped-out";return T.events=F,T.flags=V,function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});var n=e.flowplayer;return"function"==typeof n?(n(t),t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t),t)}(window,T)});