/*
   Flowplayer 
   @version 2.2.0
   @built   Mon, 14 Oct 2019 07:46:01 GMT
   @commit  1c041ed02b7ffd0f70168cae6c677143bcac890c
   @license Flowplayer commercial license - https://flowplayer.com/commercial-license
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t.flowplayer=t.flowplayer||{},t.flowplayer.asel=e())}(this,function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(){var t=I.call(arguments),n=t.shift();return t.reduce(e,n)}function r(t){return Array.isArray(t)?t.slice(0):t.split(".")}function i(t,e,n){for(e=r(e);e.length;){if(void 0===t||null===t)return n;t=t[e.shift()]}return void 0===t||null===t?n:t}function o(t,e,n){e=r(e);var o=e.pop(),a=i(t,e);return a&&(a[o]=n),t}function a(t){return I.call(t)}function s(t){var e=document.createEvent("Event");return e.initEvent(t,!1,!0),e}function u(t){return t.emit=function(n,r,i){i=i||{};var o=s(n);return r&&e(o,{data:r||{}}),t.dispatchEvent(o),!1===i.return_self?o:t},t.on=function(e,n){return"string"==typeof e&&(e=e.split(" ")),e.forEach(function(e){t.addEventListener(e,n)}),t},t.off=function(e,n){return t.removeEventListener(e,n),t},t.one=t.once=function(e,n){function r(i){t.off(e,r),n(i)}return t.on(e,r)},t}function c(t,e,n){var r=d(document.createElement(t));if(R(e)&&(n=e,e=!1),R(n)||(n=[n]),r.append(n.filter(function(t){return t})),"object"!=typeof e)return r;for(var i in e)i in r?r[i]=e[i]:r.setAttribute(i,e[i]);return r}function l(t){return t&&t[D]}function f(t){var e=t.tagName;t[D]=1,t.find=function(e){var n=t.querySelector(e);return n?d(n):n},t.html=function(e){return t.innerHTML=e,t},t.empty=function(){return t.innerHTML=x,t},t.offset=function(){var e={top:0,left:0},n=t;do{e.left+=n.offsetLeft||0,e.top+=n.offsetTop||0}while(n=n.offsetParent);return e},t.innerWidth=function(){var e=getComputedStyle(t);return t.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)};var n=t.insert=function(e,n){return R(n)?n.map(function(n){return t.insert(e,n)})[0]:(n="string"==typeof n?t.insertAdjacentHTML(e,n):t.insertAdjacentElement?t.insertAdjacentElement(e,n):t.appendChild(n),d(n))};return t.append=n.bind(t,"beforeend"),t.prepend=n.bind(t,"afterbegin"),t.css=function(e,n){if("object"==typeof e){for(var r in e)t.css(r,e[r]);return t}return void 0===n?getComputedStyle(t)[e]:(1*n&&(n+="px"),t.style[e]=n,t)},t.show=function(){return t.css({display:~k.indexOf(e)?"inline":"block"})},t.hide=function(){return t.css({display:"none"})},t.remove=function(){var e=t.parentNode;e&&e.removeChild(t)},t.attr=function(e,n){return void 0==n?t.getAttribute(e):(t.setAttribute(e,n),t)},t.txt=function(e){return t.textContent=e,t},t.fp=function(e){return t.addClass("fp-"+e)},t.addClass=function(e){return e.split(b).forEach(function(e){t.hasClass(e)||(t.className+=(t.className?b:x)+e)}),t},t.removeClass=function(e){e=e.split(b);var n=t.className.split(b);return t.className=n.filter(function(t){return!~e.indexOf(t)}).join(" "),t},t.toggleClass=function(e,n){return void 0===n&&(n=!t.hasClass(e)),n?t.addClass(e):t.removeClass(e)},t.findAll=function(e){return a(t.querySelectorAll(e))},t.hasClass=function(e){return~t.className.split(b).indexOf(e)},t}function d(t){return void 0===t?t:l(t)?t:f(u(t))}function p(t,e){if("string"==typeof t&&"<"==t[0])return c(t.slice(1,-1),e);if("string"!=typeof t)return d(t);var n=e instanceof HTMLElement&&e.querySelector(".fp-"+t)||document.querySelector(t);return n?d(n):void 0}function E(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){var e=E("svg");return e.setAttribute("viewBox",t.coords),t.name&&e.setAttribute("class",t.name),t.title&&e.setAttribute("title",t.title),t.title&&e.setAttribute("aria-label",t.title),e.setAttribute("tabindex","0"),e.appendChild(v(t.link)),p(e)}function v(t){var e=E("use");return e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t),e}function A(t,e,r){var i=r.id||"menu-"+g();return r=r||{},t.attr("role","button").attr("aria-haspopup","true").attr("aria-expanded","false").attr("aria-controls",i).attr("aria-label",r.title),r.options=r.options||[],r.id=i,A._interface(t,e,n({},r))}function g(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function O(){try{return Y.apply([],(navigator.languages||[navigator.language]).map(function(t){return~t.indexOf("-")?[t,t.split("-")[0]]:[t]})).map(function(t){return t.toLowerCase()})}catch(t){return[]}}function h(t,e,n,r,i){var o=i._attrs.options[r];t.emit(H.SET,o),o.autoselect&&K.setItem(j,o.lang)}function y(t){return t.toLowerCase()}function C(t,e){t=t.slice(0);var n={},r=K.getItem(j),o=O(),a=-1;if("number"==typeof e)return e;for("string"==typeof e&&(e=e.toLowerCase(),~o.indexOf(e)&&o.splice(o.indexOf(e),1),o.unshift(y(e))),Array.isArray(e)&&(o=e.map(y));t.length;){++a;var s=t.shift();if(s.autoselect){if(r==s.lang)return console.debug("restoring lang from previous session: ",r),a;if(s.default&&(n.fallback=[a,s]),s.lang&&~o.indexOf(s.lang.toLowerCase())){var u=o.indexOf(s.lang);if(u<i(n,"by_lang.2",1/0)&&(n.by_lang=[a,s,u]),0===u)break}}}return i(n,"by_lang.0",i(n,"fallback.0",void 0))}function N(t){return Array.isArray(t)?t.join("."):t}function T(t,e){return e.length-t.length}function S(t){if(void 0!==t){if(t.reaper)return t.reaper;if(!(this instanceof S))return new S(t);var e=t.reaper=this;return e.tree=t,e.props=[],e.push=function(t){return e.props=e.props.concat(t),e},e.put=function(n,r){return e.push(n),o(t,n,r),r},e.run=function(n){n=Array.isArray(n)?n:[],n.push(e);for(var r=e.props.map(N).sort(T);r.length;){var a=r.shift(),s=i(t,a);s&&s.reaper&&!~n.indexOf(s.reaper)&&s.reaper.run(n),o(t,a,0)}for(var u in e)delete e[u];delete n[n.indexOf(e)],t.reaper=0},e}}function _(t,e){var n={tracks:[],events:H};return S(n),n.reaper.put("menu",e),n.set=function(r){return e.idx!==r&&e.activate(r),t.emit(H.SET,n.tracks[r]),n},n.get=function(t){return t?n.track[t]:n.tracks[e.idx]},n}function L(t){return Object.assign.apply(null,[{}].concat(["id","kind","enabled","label","language"].map(function(e){var n={};return n[e]=t[e],n})))}var I=[].slice,x="",b=" ",R=Array.isArray,w="undefined"!=typeof window&&u(window),U="undefined"!=typeof document&&u(document),k=["span","a","em","p","i"],G=k.concat(["div","strong","video","img","ol","ul","li","script"]),D="__flowplayer__";p.window=w,p.document=U,p.el=c,G.forEach(function(t){p[t]=function(e,n){return"string"==typeof e&&(e={class:e}),c(t,e,n)}});var P={MOUNT:"mount",ERROR:"error",CONTEXT_MENU:"contextmenu",CLICK:"click",DBL_CLICK:"dblclick",KEYUP:"keyup",KEYDOWN:"keydown",LOAD:"load",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",FULLSCREEN_CHANGE:"fullscreenchange",METADATA:"loadedmetadata",DATA:"loadeddata",PROGRESS:"progress",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",VOLUME_CHANGE:"volumechange",PAUSE:"pause",PLAYING:"playing",PLAY:"play",WAITING:"waiting",CAN_PLAY:"canplay",ENDED:"ended",SEEKED:"seeked",SEEKING:"seeking",DURATION_CHANGE:"durationchange",BEFORE_PLAY:"beforeplay",BEFORE_PAUSE:"beforepause",STATE:"state",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:"src",RECOVER:"recover",REAP:"reap",CONFIG:"config",QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal",RECOMMENDATIONS_READY:"recommendationsready",AUDIO_ONLY_SOURCE:"audioonlysource"},M={TOGGLE_OPEN:"menu:toggle:open",RENDER:"menu:render",PUSH:"menu:push"},V={ON:"fp-on",INVIS:"fp-invis"};A.title=function(t){return p("<h3>").txt(t)},A.close=function(t){return p.span("fp-close").on(P.CLICK,t).html("&times;")},A.option=function(t,e){var n=this,r=p("<li>").attr("tabindex","0").attr("role","menuitem"),i=n._attrs;t.icon&&r.append(m(t.icon)),r.append(p("<span>").txt(t.text)),r.on(P.CLICK,function(r){i.multi||n.options().forEach(A.off),n.activate(e),"function"==typeof t.onclick&&t.onclick(r,t,e,n)}),r.idx=e,n.append(r)},A._interface=function(t,e,n){t.addClass("fp-menu-container");var r=p("<ul>").attr("id",n.id).addClass("fp-menu").attr("role","menu");return n.icons&&r.addClass("fp-icons"),r._attrs=n,t.on(P.CLICK,function(t){setTimeout(function(){if(!t.defaultPrevented)return r.hasClass(V.ON)?e.emit(M.TOGGLE_OPEN,{menu:r,open:!1}):void e.emit(M.TOGGLE_OPEN,{menu:r,open:!0})},0)}),r.on(P.MOUSE_LEAVE,function(){e.emit(M.TOGGLE_OPEN,{menu:r,open:!1})}),e.on(M.TOGGLE_OPEN,function(n){if(i(n,"data.menu")===r){var o=i(n,"data.open",!1);if(r.toggleClass(V.ON,o),t.attr("aria-expanded",o?"true":"false"),e.hasClass("is-accessibility")){if(!o)return void t.focus();var a=r.options()[0];a&&a.focus()}}}),r.push=function(t){return r._attrs.options=i(r,"_attrs.options",[]),r._attrs.options.push(t),r.render()},r.select=function(t){return r.render(r.options.filter(t))},r.render=function(e){var n=r._attrs;return r.empty(),r.prepend(A.close()),n.title&&r.prepend(A.title(n.title)),n.options=e||n.options,n.options.forEach(A.option,r),t.toggleClass(V.INVIS,0==n.options.length),r._activate(),r},r.close=function(){r.hasClass(V.ON)&&e.emit(M.TOGGLE_OPEN,{menu:r,open:!1})},r._activate=function(){r.options().forEach(function(t){t.toggleClass(V.ON,t.idx===r.idx)})},r.options=function(){return[].slice.call(r.querySelectorAll("li"))},r.activate=function(t,e){void 0===r.idx||r.idx!==t||e?r.idx=t:delete r.idx,r._activate()},r.deactivate=function(){r.activate(r.idx)},r.render(n.options),t.appendChild(r),r},A.on=function(t){return t.addClass(V.ON),t},A.off=function(t){return t.removeClass(V.ON),t},A.CONTAINER_CLASS="fp-menu",A.Events=M,A.States=V;var H={SET:"audio:set",SWITCH:"audio:update",TRACKS:"audio:tracks"},K=new function(){function e(){this.getItem=this.removeItem=this.setItem=t}function n(){try{return window.localStorage||new e}catch(t){return new e}}function r(t,e){var r=n();return function(){try{return r[t].apply(r,arguments)}catch(t){return e}}}this.removeItem=r("removeItem"),this.getItem=r("getItem",null),this.setItem=r("setItem")},Y=[].concat,j="@flowplayer/audio/track",W={FULLSCREEN:"is-fullscreen",PLAYING:"is-playing",PAUSED:"is-paused",MUTED:"is-muted",LOADED:"is-loaded",LOADING:"is-loading",STARTING:"is-starting",SEEKING:"is-seeking",GRABBING:"is-grabbing",DISABLED:"is-disabled",SMALL:"is-small",TINY:"is-tiny",RTL:"is-rtl",ENDED:"is-ended",LIVE:"is-live",ERRORED:"is-error",WAITING:"is-waiting",AUTOPLAY:"is-autoplay",SEAMLESS:"is-seamless",NO_AUTOPLAY:"no-autoplay",TOGGLING:"is-toggling",LIVE_SEEKED:"is-live-seeked",NO_DVR:"no-timeline"};return function(t,e){if("object"==typeof exports&&"undefined"!=typeof module)return e;"flowplayer"in t||(t.flowplayer={extensions:[]});var n=t.flowplayer;return"function"==typeof n?(n(e),e):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(e)||n.extensions.push(e),e)}(window,function(t,e,r){if(!1!==t.asel){var o=p.span("fp-asel fp-menu-container").txt(r._t("audio.button_txt").toUpperCase()).attr("tabindex","0"),a=A(o,e,{title:r._t("audio.menu_title"),options:[]}),s=r.reaper.put("asel",_(r,a));r.on(P.MOUNT,function(){e.controls&&e.controls.append(o)}),r.on(H.TRACKS,function(e){if(Array.isArray(e.data)){s.tracks=e.data,a.render(s.tracks.map(function(t){return n({},t,{text:t.name||t.label||t.lang,onclick:h.bind(0,r)})}));var o=s.tracks.filter(function(t){return t.enabled})[0];o&&a.activate(s.tracks.indexOf(o));var u=C(s.tracks,i(t,"asel.default_lang",!1));return void 0!==u?s.set(u):void 0}}),r.on(H.SWITCH,function(t){var e=s.tracks.filter(function(e){return e.id===t.id})[0];e&&a.activate(s.tracks.indexOf(e))}),r.audioTracks&&(r.audioTracks.addEventListener("addtrack",function(){if(!r.hls){var t=[].slice.call(r.audioTracks).map(L);r.emit(H.TRACKS,t)}}),r.on(H.SET,function(t){r.hls||[].forEach.call(r.audioTracks,function(e){e.enabled=t.data.id===e.id})}),r.on(P.STATE,function(t){r.hasState("is-touched")||r.hasState("is-hovered")||!r.hasState(W.PLAYING)||a.close()}))}})});