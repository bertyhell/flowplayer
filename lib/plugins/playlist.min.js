/*
   Flowplayer 
   @version 2.2.0
   @built   Mon, 14 Oct 2019 07:46:02 GMT
   @commit  1c041ed02b7ffd0f70168cae6c677143bcac890c
   @license Flowplayer commercial license - https://flowplayer.com/commercial-license
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.flowplayer=e.flowplayer||{},e.flowplayer.playlist=t())}(this,function(){"use strict";function e(e,t){for(var n in t)e[n]=t[n];return e}function t(e){return Array.isArray(e)?e.slice(0):e.split(".")}function n(e,n,r){for(n=t(n);n.length;){if(void 0===e||null===e)return r;e=e[n.shift()]}return void 0===e||null===e?r:e}function r(e){return z.call(e)}function i(e){var t=document.createEvent("Event");return t.initEvent(e,!1,!0),t}function o(t){return t.emit=function(n,r,o){o=o||{};var a=i(n);return r&&e(a,{data:r||{}}),t.dispatchEvent(a),!1===o.return_self?a:t},t.on=function(e,n){return"string"==typeof e&&(e=e.split(" ")),e.forEach(function(e){t.addEventListener(e,n)}),t},t.off=function(e,n){return t.removeEventListener(e,n),t},t.one=t.once=function(e,n){function r(i){t.off(e,r),n(i)}return t.on(e,r)},t}function a(e,t,n){var r=s(document.createElement(e));if($(t)&&(n=t,t=!1),$(n)||(n=[n]),r.append(n.filter(function(e){return e})),"object"!=typeof t)return r;for(var i in t)i in r?r[i]=t[i]:r.setAttribute(i,t[i]);return r}function u(e){return e&&e[ie]}function l(e){var t=e.tagName;e[ie]=1,e.find=function(t){var n=e.querySelector(t);return n?s(n):n},e.html=function(t){return e.innerHTML=t,e},e.empty=function(){return e.innerHTML=Z,e},e.offset=function(){var t={top:0,left:0},n=e;do{t.left+=n.offsetLeft||0,t.top+=n.offsetTop||0}while(n=n.offsetParent);return t},e.innerWidth=function(){var t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)};var n=e.insert=function(t,n){return $(n)?n.map(function(n){return e.insert(t,n)})[0]:(n="string"==typeof n?e.insertAdjacentHTML(t,n):e.insertAdjacentElement?e.insertAdjacentElement(t,n):e.appendChild(n),s(n))};return e.append=n.bind(e,"beforeend"),e.prepend=n.bind(e,"afterbegin"),e.css=function(t,n){if("object"==typeof t){for(var r in t)e.css(r,t[r]);return e}return void 0===n?getComputedStyle(e)[t]:(1*n&&(n+="px"),e.style[t]=n,e)},e.show=function(){return e.css({display:~ne.indexOf(t)?"inline":"block"})},e.hide=function(){return e.css({display:"none"})},e.remove=function(){var t=e.parentNode;t&&t.removeChild(e)},e.attr=function(t,n){return void 0==n?e.getAttribute(t):(e.setAttribute(t,n),e)},e.txt=function(t){return e.textContent=t,e},e.fp=function(t){return e.addClass("fp-"+t)},e.addClass=function(t){return t.split(J).forEach(function(t){e.hasClass(t)||(e.className+=(e.className?J:Z)+t)}),e},e.removeClass=function(t){t=t.split(J);var n=e.className.split(J);return e.className=n.filter(function(e){return!~t.indexOf(e)}).join(" "),e},e.toggleClass=function(t,n){return void 0===n&&(n=!e.hasClass(t)),n?e.addClass(t):e.removeClass(t)},e.findAll=function(t){return r(e.querySelectorAll(t))},e.hasClass=function(t){return~e.className.split(J).indexOf(t)},e}function s(e){return void 0===e?e:u(e)?e:l(o(e))}function c(e,t){if("string"==typeof e&&"<"==e[0])return a(e.slice(1,-1),t);if("string"!=typeof e)return s(e);var n=t instanceof HTMLElement&&t.querySelector(".fp-"+e)||document.querySelector(e);return n?s(n):void 0}function f(e,t){if(1!=!!t)throw new Error(e)}function p(e,t){var n=this;n.mode=t.mode,n.sort=t.sort||p._sort,n.members=n.sort(e.slice(0),t.mode),n.last_idx=n.members.length-1,n.plays=t.plays||0,n.idx=-1}function d(e){return"function"==typeof e}function y(){throw new Error("Function was expected as Argument[0]")}function m(e){if(!(this instanceof m))return new m(e);var t=this;return t.data=e,t.tap=function(){var e=le.call(arguments),n=e.shift();return n==m.lift?t.data:d(n)?(n.apply(t,[t.data].concat(e)),t):void y()},t.into=t.fmap=function(){var e=le.call(arguments),n=e.shift();return n==m.lift?t.data:d(n)?m(n.apply(t,[t.data].concat(e))):void y()},t.unwrap=function(){return t.data},t}function v(e){return"invalid playlist configuration\ndetails: "+e+"\n\tmust match Object of shape:\n"+["\t\t{ controls?: Selector|HTMLElement","player:    Selector|HTMLElement","playlist:  PlaylistId|Array(MediaId|PlayerConfig)","shuffle?:  Boolean|false","loop?:     Boolean|false","advance?:  Boolean|true","delay?:    Milliseconds|5000"].join("\n\t\t, ")+"\n\t\t}"}function E(e,t){m.of(e).fmap(v).fmap(f,t)}function A(e){return void 0!==e}function _(e){return"string"==typeof e}function L(e){return"object"==typeof e}function T(e){try{return e instanceof HTMLElement}catch(t){return L(e)&&L(e.style)&&L(e.ownerDocument)}}function S(e){return!!_(e)||T(e)}function I(e){return E("playlist property was not of type PlaylistId|Array(MediaId|PlayConfig)",Array.isArray(e)),E("playlist property cannot be an empty Array",e.length>0),!e.forEach(function(e,t){E("item at playlist["+t+"] was not valid",_(e)||L(e))})}function h(e){E("Config must be an Object",A(e)&&L(e)),E("property `playlist` is required",A(e.playlist)),E("property `playlist` was not a String(MediaId)",_(e.playlist)||I(e.playlist)),"loop shuffle".split(" ").forEach(function(t){A(e[t])&&E(t+" must be a boolean value if present","boolean"==typeof e[t])}),A(e.delay)&&E("property `delay` must be a Number (Milliseconds)","number"==typeof e.delay)}function g(e,t,n){var r=p.lpop(t),i=t.idx+t.plays<1;return b(e,r,n),i&&n.autoplay?e.togglePlay(!0):i?e.setState(ue.STARTING,!0):!i&&n.advance?x(e,n,function(){e.paused&&(e.setState(ue.SEAMLESS,!0),e.play())}):void e.emit(ae.PLAYLIST_INTERSTITIAL,{config:n})}function b(e,t,n){"object"==typeof t&&e.setOpts(t),N(e,t,n)}function N(e,t,r){if(e.setSrc(_(t)||t.type?t:t.src),e.emit(ae.PLAYLIST_NEXT,t),n(r,"should_play",!1))return e.play()}function w(e,t){e.emit(ae.PLAYLIST_ENDED),t.loop&&(e.playlist.queue=p.reset(e.playlist.queue),e.emit(ae.PLAYLIST_LOOP),x(e,t,function(){e.emit(ae.PLAYLIST_READY,{queue:e.playlist.queue,should_play:!0})}))}function O(e,t){t=e.playlist.queue=p.reset(t),e.emit(ae.PLAYLIST_READY,{queue:t,should_play:!1})}function x(e,t,n){var r=setTimeout(n,t.delay||0);t.delay>0&&e.emit(ae.PLAYLIST_INTERSTITIAL,{timer:r,config:t})}function P(e,t,n){if(t[e])return n=n||[],n.unshift(c.span({innerText:t[e]})),c.div({class:e},n)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function R(e){var t=C("svg");return t.setAttribute("viewBox",e.coords),e.name&&t.setAttribute("class",e.name),e.title&&t.setAttribute("title",e.title),e.title&&t.setAttribute("aria-label",e.title),t.setAttribute("tabindex","0"),t.appendChild(D(e.link)),c(t)}function D(e){var t=C("use");return t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),t}function q(e,t,r){c(e),e.addClass("fp-playlist-controls "+(r.theme||"fp-dark")),t.setState(fe,!0);var i=t.root.className.split(" ").filter(function(e){return e.match(/^use-play/)}).pop();if(i&&e.addClass(i),t.on([ae.PLAYLIST_NEXT,Q.PLAYING,Q.PAUSE,ae.PLAYLIST_READY],function(r){var i=n(r,"data.queue",n(t,"playlist.queue"));if(i&&(new Y(e,i,t),t.root.controls.btns.toggleClass(pe,!i.idx),t.root.controls.btns.toggleClass(de,i.idx===i.last_idx),t.skip_controls)){var o=i.idx<i.last_idx?p.next_video(i):null,a=i.idx>0?p.prev_video(i):null;t.skip_controls.nextPreview.style.backgroundImage=["url(",o?o.poster:null,")"].join(""),t.skip_controls.prevPreview.style.backgroundImage=["url(",a?a.poster:null,")"].join("")}}),r.skip_controls&&!t.skip_controls){var o=k(t);t.reaper.put("skip_controls",o),t.on(Q.REAP,function(){for(var e in o)o[e]=0})}}function Y(e,t,n){e.empty();var r=e.append(c.ol("fp-playlist"));p.map(t,function(e,i){var o=M(e,t,n,i);o&&r.append(o)})}function k(e){var t=R(ce).attr("role","button");t.on(Q.CLICK,function(){e.playlist.prev()});var n=R(se).attr("role","button");n.on(Q.CLICK,function(){e.playlist.next()});var r=c.div("fp-playlist-prev-preview"),i=c.div("fp-playlist-next-preview");return e.root.controls.btns.prepend(t),e.root.controls.btns.append(n),e.root.controls.btns.append(r),e.root.controls.btns.append(i),{prevButton:t,nextButton:n,prevPreview:r,nextPreview:i}}function U(e){return e.paused?"is-paused":"is-playing"}function M(e,t,n,r){if(e.title){var i=r==t.idx?"is-current "+U(n):"is-queued",o={class:i,onclick:M.onclick.bind(null,e,t,n,r)};return c.li(o,[c.div("fp-color"),F(e),G(e,n)])}}function F(e){return c.div("video-info",[P("title",e),P("description",e)])}function G(e,t){var n=c.div("video-buttons",t.root.ui.findAll(".fp-switch").map(function(e){return c(e.cloneNode(!0)).removeClass("fp-switch")}));return e.poster&&(n.style.backgroundImage=["url(",e.poster,")"].join("")),n}function H(e){return Math.min(100*e,100)+"%"}function j(e,t){var n=c.div("fp-interstitial"),r=e.root.ui.find(".fp-middle");r.append(n),e.on(ae.PLAYLIST_INTERSTITIAL,function(i){var o=i.data;e.setState(ye,!0);var a=p.current_video(e.playlist.queue);a&&(n.empty().append(j.Innards(e,a,r,o)),t.advance&&j.animate_countdown(e,o,n.querySelector(".countdown")))}),e.on("src playing waiting",function(){e.emit(ae.PLAYLIST_INTERSTITIAL_END)}),e.on(ae.PLAYLIST_INTERSTITIAL_END,function(){e.setState(ye,!1)})}function V(e){h(e)}function B(e){var t={};ve.forEach(function(t){t in e&&(console.warn(new Error("unsupported attribute: "+t+" found on the top-level config")),delete e[t])});for(var n in e)~me.indexOf(n)||(t[n]=e[n]);return t}function K(e,t){var n={};for(var r in e)me.indexOf(r)<0||(n[r]=e[r]);for(r in t)me.indexOf(r)<0||(n[r]=t[r]);return n}function W(e,t){var n=this;n.queue=t,n.play=function(t){n.queue.idx=t,N(e,p.current_video(n.queue),{should_play:!0})},n.next=function(){n.queue.idx!==n.queue.last_idx&&n.play(n.queue.idx+1)},n.prev=function(){n.queue.idx&&n.play(n.queue.idx-1)},n.remove=function(t){n.queue.members[t]&&(n.queue.members.splice(t,1),n.queue.plays--,O(e,n.queue))},n.push=function(t){n.queue.members=n.queue.members.concat(t),n.queue.plays--,O(e,n.queue)},n.clear=function(){n.queue.members=[],n.queue.plays--,O(e,n.queue)}}function X(e,t){t.delay="delay"in t?t.delay:1e4,V(t);const n=B(t);e=flowplayer(e,n),t=K(e.opts,t),new j(e,t);var r=X.make_controls(e,t);return X.attach_events(e,r,t),X.fetch(t,function(t){e.emit(ae.PLAYLIST_READY,{queue:t,should_play:0===e.currentSrc.length})}),e}var Q={MOUNT:"mount",ERROR:"error",CONTEXT_MENU:"contextmenu",CLICK:"click",DBL_CLICK:"dblclick",KEYUP:"keyup",KEYDOWN:"keydown",LOAD:"load",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",FULLSCREEN_CHANGE:"fullscreenchange",METADATA:"loadedmetadata",DATA:"loadeddata",PROGRESS:"progress",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",VOLUME_CHANGE:"volumechange",PAUSE:"pause",PLAYING:"playing",PLAY:"play",WAITING:"waiting",CAN_PLAY:"canplay",ENDED:"ended",SEEKED:"seeked",SEEKING:"seeking",DURATION_CHANGE:"durationchange",BEFORE_PLAY:"beforeplay",BEFORE_PAUSE:"beforepause",STATE:"state",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:"src",RECOVER:"recover",REAP:"reap",CONFIG:"config",QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal",RECOMMENDATIONS_READY:"recommendationsready",AUDIO_ONLY_SOURCE:"audioonlysource"},z=[].slice,Z="",J=" ",$=Array.isArray,ee="undefined"!=typeof window&&o(window),te="undefined"!=typeof document&&o(document),ne=["span","a","em","p","i"],re=ne.concat(["div","strong","video","img","ol","ul","li","script"]),ie="__flowplayer__";c.window=ee,c.document=te,c.el=a,re.forEach(function(e){c[e]=function(t,n){return"string"==typeof t&&(t={class:t}),a(e,t,n)}});var oe=p.modes={SHUFFLE:1,FIFO:2,LOOP:4};p.is_ended=function(e){return e.idx==e.last_idx},p.reduce=function(e,t,n){return e.members.reduce.apply(e.members,[].slice.call(arguments,1,arguments.length))},p.map=function(e,t){return e.members.map.apply(e.members,[].slice.call(arguments,1,arguments.length))},p.next_video=function(e){if(!p.is_ended(e)||0!=(e.mode&oe.LOOP))return e.members[p.next_id(e)]},p.prev_video=function(e){if(0!==e.idx||0!=(e.mode&oe.LOOP))return e.members[p.prev_id(e)]},p.current_video=function(e){return-1==e.idx?e.members[0]:e.members[e.idx]},p.next_id=function(e){var t=e.idx+1;return t>e.last_idx?0:t},p.prev_id=function(e){var t=e.idx-1;return t<0?e.last_idx:t},p.lpop=function(e){return++e.idx,e.members[e.idx]},p._sort=function(e,t){return(t&oe.SHUFFLE)==oe.SHUFFLE?e.sort(function(){return Math.random()-Math.random()}):e.slice(0)},p.reset=function(e){return new p(e.members,{mode:e.mode,plays:e.plays+1,sort:e.sort})},p.of=function(e,t){var n=t.shuffle?oe.SHUFFLE:oe.FIFO;return t.loop&&(n|=oe.LOOP),new p(e,{mode:n,sort:t.sort})};var ae={PLAYLIST_NEXT:"playlist:next",PLAYLIST_PREVIOUS:"playlist:previous",PLAYLIST_LOOP:"playlist:loop",PLAYLIST_ENDED:"playlist:ended",PLAYLIST_READY:"playlist:ready",PLAYLIST_INTERSTITIAL:"playlist:interstitial",PLAYLIST_INTERSTITIAL_END:"playlist:interstitial_end"},ue={FULLSCREEN:"is-fullscreen",PLAYING:"is-playing",PAUSED:"is-paused",MUTED:"is-muted",LOADED:"is-loaded",LOADING:"is-loading",STARTING:"is-starting",SEEKING:"is-seeking",GRABBING:"is-grabbing",DISABLED:"is-disabled",SMALL:"is-small",TINY:"is-tiny",RTL:"is-rtl",ENDED:"is-ended",LIVE:"is-live",ERRORED:"is-error",WAITING:"is-waiting",AUTOPLAY:"is-autoplay",SEAMLESS:"is-seamless",NO_AUTOPLAY:"no-autoplay",TOGGLING:"is-toggling",LIVE_SEEKED:"is-live-seeked",NO_DVR:"no-timeline"},le=[].slice;m.of=m,m.lift=function(e){return e instanceof m?e.data:e},m._apply=function(e,t){if(0==t.length)return e();if(1==t.length)return e(t[0]);if(2==t.length)return e(t[0],t[1]);if(3==t.length)return e(t[0],t[1],t[2]);if(4==t.length)return e(t[0],t[1],t[2],t[3]);if(5==t.length)return e(t[0],t[1],t[2],t[3],t[4]);throw new Error("Pipe._apply() does not support arity > 5")},m.maybe=function(e,t,n){return e?m._apply(t,[e].concat(le.call(arguments,2,arguments.length))):e},m.curry=function(e,t,n){return t=t||[],t.length>e.length-1?e.apply(n,t):function(){return t=t.concat(le.call(arguments)),m.curry(e,t,n)}};var se={coords:"0 0 41 42",link:"#fp-skip-next",translation_key:"core.skip-next",name:"fp-skip-next"},ce={coords:"0 0 41 42",link:"#fp-skip-prev",translation_key:"core.skip-prev",name:"fp-skip-prev"},fe="is-playlist",pe="is-prev-button-disabled",de="is-next-button-disabled";M.onclick=function(e,t,n,r){return t.idx!=r||n.paused?t.idx==r&&n.paused?n.play():(t.idx=r,void N(n,e,{should_play:!0})):n.pause()};var ye="is-interstitial";j.animate_countdown=function(e,t,n){function r(){var l=Date.now();if(!(l>o)&&e.paused){if(!t.timer)return n.css({width:H(0)});requestAnimationFrame(r);l-a<u||(a=l,n.css({width:H(1-(o-l)/i)}))}}if(!n)throw new Error("no element to animate was passed");var i=t.config.delay,o=Date.now()+i,a=Date.now(),u=Math.ceil(1e3/60);r()},j.Innards=function(e,t,n,r){var i=c.div("left",n.findAll(".fp-switch").map(function(e){return c(e.cloneNode(!0)).removeClass("fp-switch")}));return t.poster&&(i.style.backgroundImage=["url(",t.poster,")"].join("")),[i,c.div("right",[c.div("up-next",[c.span().txt(e._t("playlist.up_next")),c.div("fp-color countdown")]),P("title",t),P("description",t),r.timer&&c.div({class:"cancel",onclick:function(e){return clearTimeout(r.timer),r.timer=0,c(e.target).remove(),e.preventDefault(),!1}},[c.span().txt(e._t("playlist.cancel"))])])]};var me=["playlist","controls","shuffle","loop","advance","delay","player","skip_controls"],ve=["src"];return X.make_controls=function(e,t){var n=X.cast_controls(t);if(n)return c(n),new q(n,e,t),n},X.cast_controls=function(e){var t;if(S(e.controls))return T(e.controls)?t=e.controls:_(e.controls)&&(t=document.querySelector(e.controls)),f("Count not find controls by Selector["+e.controls+"]",T(t)),t},X.fetch=function(e,t){if(Array.isArray(e.playlist))return t(p.of(e.playlist,e));throw new Error("config.playlist must be an Array")},X.attach_events=function(e,t,n){e.on(ae.PLAYLIST_READY,function(t){var r=t.data.queue,i=t.data.should_play;e.reaper.put("playlist",new W(e,r)),i&&g(e,r,n)}),e.on(Q.ENDED,function(){if(p.is_ended(e.playlist.queue))return w(e,n);0!=n.advance&&g(e,e.playlist.queue,n)})},X.events=ae,X.VideoQueue=p,X});