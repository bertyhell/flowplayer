/*
   Flowplayer 
   @version 2.2.0
   @built   Mon, 14 Oct 2019 07:46:01 GMT
   @commit  1c041ed02b7ffd0f70168cae6c677143bcac890c
   @license Flowplayer commercial license - https://flowplayer.com/commercial-license
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.flowplayer=e.flowplayer||{},e.flowplayer.keyboard=t())}(this,function(){"use strict";function e(e,t){for(var n in t)e[n]=t[n];return e}function t(){var t=y.call(arguments),n=t.shift();return t.reduce(e,n)}function n(e){return Array.isArray(e)?e.slice(0):e.split(".")}function r(e,t,r){for(t=n(t);t.length;){if(void 0===e||null===e)return r;e=e[t.shift()]}return void 0===e||null===e?r:e}function i(e){return y.call(e)}function o(e){var t=document.createEvent("Event");return t.initEvent(e,!1,!0),t}function a(t){return t.emit=function(n,r,i){i=i||{};var a=o(n);return r&&e(a,{data:r||{}}),t.dispatchEvent(a),!1===i.return_self?a:t},t.on=function(e,n){return"string"==typeof e&&(e=e.split(" ")),e.forEach(function(e){t.addEventListener(e,n)}),t},t.off=function(e,n){return t.removeEventListener(e,n),t},t.one=t.once=function(e,n){function r(i){t.off(e,r),n(i)}return t.on(e,r)},t}function u(e,t,n){var r=l(document.createElement(e));if(b(t)&&(n=t,t=!1),b(n)||(n=[n]),r.append(n.filter(function(e){return e})),"object"!=typeof t)return r;for(var i in t)i in r?r[i]=t[i]:r.setAttribute(i,t[i]);return r}function s(e){return e&&e[x]}function c(e){var t=e.tagName;e[x]=1,e.find=function(t){var n=e.querySelector(t);return n?l(n):n},e.html=function(t){return e.innerHTML=t,e},e.empty=function(){return e.innerHTML=g,e},e.offset=function(){var t={top:0,left:0},n=e;do{t.left+=n.offsetLeft||0,t.top+=n.offsetTop||0}while(n=n.offsetParent);return t},e.innerWidth=function(){var t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)};var n=e.insert=function(t,n){return b(n)?n.map(function(n){return e.insert(t,n)})[0]:(n="string"==typeof n?e.insertAdjacentHTML(t,n):e.insertAdjacentElement?e.insertAdjacentElement(t,n):e.appendChild(n),l(n))};return e.append=n.bind(e,"beforeend"),e.prepend=n.bind(e,"afterbegin"),e.css=function(t,n){if("object"==typeof t){for(var r in t)e.css(r,t[r]);return e}return void 0===n?getComputedStyle(e)[t]:(1*n&&(n+="px"),e.style[t]=n,e)},e.show=function(){return e.css({display:~U.indexOf(t)?"inline":"block"})},e.hide=function(){return e.css({display:"none"})},e.remove=function(){var t=e.parentNode;t&&t.removeChild(e)},e.attr=function(t,n){return void 0==n?e.getAttribute(t):(e.setAttribute(t,n),e)},e.txt=function(t){return e.textContent=t,e},e.fp=function(t){return e.addClass("fp-"+t)},e.addClass=function(t){return t.split(h).forEach(function(t){e.hasClass(t)||(e.className+=(e.className?h:g)+t)}),e},e.removeClass=function(t){t=t.split(h);var n=e.className.split(h);return e.className=n.filter(function(e){return!~t.indexOf(e)}).join(" "),e},e.toggleClass=function(t,n){return void 0===n&&(n=!e.hasClass(t)),n?e.addClass(t):e.removeClass(t)},e.findAll=function(t){return i(e.querySelectorAll(t))},e.hasClass=function(t){return~e.className.split(h).indexOf(t)},e}function l(e){return void 0===e?e:s(e)?e:c(a(e))}function f(e,t){if("string"==typeof e&&"<"==e[0])return u(e.slice(1,-1),t);if("string"!=typeof e)return l(e);var n=t instanceof HTMLElement&&t.querySelector(".fp-"+e)||document.querySelector(e);return n?l(n):void 0}function d(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function E(e){var t=d("svg");return t.setAttribute("viewBox",e.coords),e.name&&t.setAttribute("class",e.name),e.title&&t.setAttribute("title",e.title),e.title&&t.setAttribute("aria-label",e.title),t.setAttribute("tabindex","0"),t.appendChild(p(e.link)),f(t)}function p(e){var t=d("use");return t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),t}function m(e,n,r){var i=r.id||"menu-"+A();return r=r||{},e.attr("role","button").attr("aria-haspopup","true").attr("aria-expanded","false").attr("aria-controls",i).attr("aria-label",r.title),r.options=r.options||[],r.id=i,m._interface(e,n,t({},r))}function A(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function O(e,t){return Math.max(Math.min(t,e),0)}function v(e,t){e.volume=O(e.volume+t,1)}function R(e,t,n){if(!e.disabled||!t){n=n||.15;var r=e.currentTime,i=e.duration,o=0;n<1&&(o=n*i),n>=1&&(o=n),1==t&&(o=Math.abs(o)),0==t&&o>0&&(o*=-1),e.currentTime=O(r+o,i)}}function _(e,t){var n=e.duration,r=t/10*n;r>e.currentTime&&e.disabled||n&&(e.currentTime=r)}function N(e,t){return!(!e||document.activeElement===document.body||T(e))||(!e||!e.in_viewport||!e.started||t.altKey||t.shiftKey||t.metaKey||t.ctrlKey)}function T(e){for(var t=document.activeElement;t;){if(t===e)return!0;t=t.parentElement}return!1}function C(e,t,n){n.on([w.LOAD_START,w.PLAYING,w.FULLSCREEN_ENTER],function(){F(n)})}function S(e,t){return!!L(e,t)}function L(e,t){return!!e.parentElement&&(e.parentElement.matches(t)?e.parentElement:S(e.parentElement,t))}var y=[].slice,g="",h=" ",b=Array.isArray,I="undefined"!=typeof window&&a(window),P="undefined"!=typeof document&&a(document),U=["span","a","em","p","i"],D=U.concat(["div","strong","video","img","ol","ul","li","script"]),x="__flowplayer__";f.window=I,f.document=P,f.el=u,D.forEach(function(e){f[e]=function(t,n){return"string"==typeof t&&(t={class:t}),u(e,t,n)}});var w={MOUNT:"mount",ERROR:"error",CONTEXT_MENU:"contextmenu",CLICK:"click",DBL_CLICK:"dblclick",KEYUP:"keyup",KEYDOWN:"keydown",LOAD:"load",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",FULLSCREEN_CHANGE:"fullscreenchange",METADATA:"loadedmetadata",DATA:"loadeddata",PROGRESS:"progress",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",VOLUME_CHANGE:"volumechange",PAUSE:"pause",PLAYING:"playing",PLAY:"play",WAITING:"waiting",CAN_PLAY:"canplay",ENDED:"ended",SEEKED:"seeked",SEEKING:"seeking",DURATION_CHANGE:"durationchange",BEFORE_PLAY:"beforeplay",BEFORE_PAUSE:"beforepause",STATE:"state",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:"src",RECOVER:"recover",REAP:"reap",CONFIG:"config",QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal",RECOMMENDATIONS_READY:"recommendationsready",AUDIO_ONLY_SOURCE:"audioonlysource"},G={TOGGLE_OPEN:"menu:toggle:open",RENDER:"menu:render",PUSH:"menu:push"},W={ON:"fp-on",INVIS:"fp-invis"};m.title=function(e){return f("<h3>").txt(e)},m.close=function(e){return f.span("fp-close").on(w.CLICK,e).html("&times;")},m.option=function(e,t){var n=this,r=f("<li>").attr("tabindex","0").attr("role","menuitem"),i=n._attrs;e.icon&&r.append(E(e.icon)),r.append(f("<span>").txt(e.text)),r.on(w.CLICK,function(r){i.multi||n.options().forEach(m.off),n.activate(t),"function"==typeof e.onclick&&e.onclick(r,e,t,n)}),r.idx=t,n.append(r)},m._interface=function(e,t,n){e.addClass("fp-menu-container");var i=f("<ul>").attr("id",n.id).addClass("fp-menu").attr("role","menu");return n.icons&&i.addClass("fp-icons"),i._attrs=n,e.on(w.CLICK,function(e){setTimeout(function(){if(!e.defaultPrevented)return i.hasClass(W.ON)?t.emit(G.TOGGLE_OPEN,{menu:i,open:!1}):void t.emit(G.TOGGLE_OPEN,{menu:i,open:!0})},0)}),i.on(w.MOUSE_LEAVE,function(){t.emit(G.TOGGLE_OPEN,{menu:i,open:!1})}),t.on(G.TOGGLE_OPEN,function(n){if(r(n,"data.menu")===i){var o=r(n,"data.open",!1);if(i.toggleClass(W.ON,o),e.attr("aria-expanded",o?"true":"false"),t.hasClass("is-accessibility")){if(!o)return void e.focus();var a=i.options()[0];a&&a.focus()}}}),i.push=function(e){return i._attrs.options=r(i,"_attrs.options",[]),i._attrs.options.push(e),i.render()},i.select=function(e){return i.render(i.options.filter(e))},i.render=function(t){var n=i._attrs;return i.empty(),i.prepend(m.close()),n.title&&i.prepend(m.title(n.title)),n.options=t||n.options,n.options.forEach(m.option,i),e.toggleClass(W.INVIS,0==n.options.length),i._activate(),i},i.close=function(){i.hasClass(W.ON)&&t.emit(G.TOGGLE_OPEN,{menu:i,open:!1})},i._activate=function(){i.options().forEach(function(e){e.toggleClass(W.ON,e.idx===i.idx)})},i.options=function(){return[].slice.call(i.querySelectorAll("li"))},i.activate=function(e,t){void 0===i.idx||i.idx!==e||t?i.idx=e:delete i.idx,i._activate()},i.deactivate=function(){i.activate(i.idx)},i.render(n.options),e.appendChild(i),i},m.on=function(e){return e.addClass(W.ON),e},m.off=function(e){return e.removeClass(W.ON),e},m.CONTAINER_CLASS="fp-menu",m.Events=G,m.States=W;var M={TAB:9,ENTER:13,ESCAPE:27,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,F:70,H:72,J:74,K:75,L:76,M:77},H={FULLSCREEN:"is-fullscreen",PLAYING:"is-playing",PAUSED:"is-paused",MUTED:"is-muted",LOADED:"is-loaded",LOADING:"is-loading",STARTING:"is-starting",SEEKING:"is-seeking",GRABBING:"is-grabbing",DISABLED:"is-disabled",SMALL:"is-small",TINY:"is-tiny",RTL:"is-rtl",ENDED:"is-ended",LIVE:"is-live",ERRORED:"is-error",WAITING:"is-waiting",AUTOPLAY:"is-autoplay",SEAMLESS:"is-seamless",NO_AUTOPLAY:"no-autoplay",TOGGLING:"is-toggling",LIVE_SEEKED:"is-live-seeked",NO_DVR:"no-timeline"},F=function(e){var t={val:e};return function(e){return void 0!==e&&(t.val=e),t.val}}(),K=[M.ARROW_UP,M.ARROW_RIGHT,M.ARROW_LEFT,M.ARROW_DOWN],k=[M.SPACE,M.F,M.ESCAPE,M.M,M.ARROW_UP,M.ARROW_DOWN,M.ARROW_RIGHT,M.ARROW_LEFT,M.H,M.J,M.K,M.L];return f.document.on(w.KEYDOWN,function(e){function t(){e.preventDefault(),e.stopPropagation()}var n=e.which,i=F(),o=r(i,"opts.keyboard.seek_step",.15),a=document.activeElement;if((n===M.SPACE||n===M.ENTER)&&a.hasAttribute("tabindex")&&S(a,".flowplayer"))return a.dispatchEvent(new MouseEvent("click",{bubbles:!0})),t();if(~K.indexOf(n)&&a.hasAttribute("aria-valuenow")){var u=~[M.ARROW_UP,M.ARROW_RIGHT].indexOf(n);if(a.matches(".fp-volume"))return v(i,u?.15:-.15),t();if(a.matches(".fp-timeline"))return R(i,u,o),t()}if((n===M.ARROW_DOWN||n===M.ARROW_UP||n===M.ESCAPE)&&S(a,".fp-menu"))return e.preventDefault(),n===M.ARROW_DOWN&&a.nextSibling&&a.nextSibling.focus(),n===M.ARROW_UP&&a.previousSibling&&a.previousSibling.focus(),void(n===M.ESCAPE&&i.root.emit(m.Events.TOGGLE_OPEN,{open:!1,menu:L(a,".fp-menu")}));if(n===M.TAB&&flowplayer.instances.forEach(function(e){e.setState("is-hovered",!0),e.setState("is-accessibility",!0)}),!N(i,e)){var s=!i.hasState(H.NO_DVR);if(n>47&&n<58&&s)return e.preventDefault(),_(i,n-48);switch(~k.indexOf(n)&&e.preventDefault(),n){case M.SPACE:return i.togglePlay();case M.F:return i.toggleFullScreen();case M.ESCAPE:return i.toggleFullScreen(!1);case M.M:return i.toggleMute();case M.ARROW_UP:case M.K:return v(i,.15);case M.ARROW_DOWN:case M.J:return v(i,-.15);case M.ARROW_RIGHT:case M.L:return s&&R(i,!0,o);case M.ARROW_LEFT:case M.H:return s&&R(i,!1,o)}}}),function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});var n=e.flowplayer;"function"==typeof n?n(t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t))}(window,C),C});