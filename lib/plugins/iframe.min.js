!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):((e=e||self).flowplayer=e.flowplayer||{},e.flowplayer.iframe=n())}(this,(function(){"use strict";var e="fullscreenenter",n="fullscreenexit",t="ended";function o(e,n,t){for(n=function(e){return Array.isArray(e)?e.slice(0):e.split(".")}(n);n.length;){if(null==e)return t;e=e[n.shift()]}return null==e?t:e}function r(o,r,i){i.setOpts({auto_orient:!1}),i.on(e,(function(){document.fullscreenEnabled||(i.webkitEnterFullscreen(),i.one("webkitendfullscreen",(function(){i.emit(n)})),i.on(t,(function(){i.webkitExitFullscreen()})))}))}(function(){try{return window.self!==window.top}catch(e){return!0}})()&&(!function(e,n){if("object"==typeof exports&&"undefined"!=typeof module)return n;"flowplayer"in e||(e.flowplayer={extensions:[]});var t=e.flowplayer;"function"==typeof t?t(n):(Array.isArray(t.extensions)||(t.extensions=[]),~t.extensions.indexOf(n)||t.extensions.push(n))}(window,r),window.addEventListener("message",(function(e){if(r.is_flowplayer_message(e.data)){var n=o(window,"flowplayer.instances",[]),t=o(n,"0");if(t)switch(n.length>1&&console.warn("Multiple player instances in iframe. Messaging supported with first instance only."),r.message_body(e.data)){case"pause":return t.togglePlay(!1);case"play":return t.togglePlay(!0)}}})));return r.is_flowplayer_message=function(e){return"string"==typeof e&&"flowplayer://"==e.slice(0,"flowplayer://".length)},r.message_body=function(e){return e.slice("flowplayer://".length)},r}));
