!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).flowplayer=t()}(this,(function(){"use strict";var e=[].slice;function t(){}function n(e,t){for(var n in t)e[n]=t[n];return e}function r(){var t=e.call(arguments),r=t.shift();return t.reduce(n,r)}function i(e){return Array.isArray(e)?e.slice(0):e.split(".")}function o(e,t,n){for(t=i(t);t.length;){if(null==e)return n;e=e[t.shift()]}return null==e?n:e}function a(e,t,n){var r=(t=i(t)).pop(),a=o(e,t);return a&&(a[r]=n),e}function s(e){return(e=parseInt(e,10))>=10?e:"0"+e}function u(e){if(isNaN(e)||e>=Number.MAX_SAFE_INTEGER)return"";var t=e<0?"-":"";e=Math.abs(e);var n=Math.floor(e/3600),r=Math.floor(e/60);return e-=60*r,n>=1?t+n+":"+s(r-=60*n)+":"+s(e):t+s(r)+":"+s(e)}function c(t){return e.call(t)}function l(e){return"string"!=typeof e?e:isNaN(e)?"false"!=e&&("true"==e||e):Number(e)}var f=Object.freeze({__proto__:null,noop:t,safe:function(e,t){return function(){try{return e.apply(t,arguments)}catch(e){return null}}},extend:n,assign:r,make_path:i,lens:o,put:a,get:function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){var e=r.status;e>=400&&n&&n(e),200==e&&4==r.readyState&&t(r.responseText)},r.send()},zero_pad:s,prettyTime:u,toArray:c,box:function(e){var t={val:e};return function(e){return void 0!==e&&(t.val=e),t.val}},as_bool:l}),d=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}()&&{passive:!0},p=["touchstart","touchmove"];function m(e){return e.emit=function(t,r,i){i=i||{};var o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!1,!0),t}(t);return r&&n(o,{data:r||{}}),e.dispatchEvent(o),!1===i.return_self?o:e},e.on=function(t,n){return"string"==typeof t&&(t=t.split(" ")),t.forEach((function(t){return function(e){return~p.indexOf(e)}(t)?e.addEventListener(t,n,d):e.addEventListener(t,n)})),e},e.off=function(t,n){return e.removeEventListener(t,n),e},e.one=e.once=function(t,n){return e.on(t,(function r(i){e.off(t,r),n(i)}))},e}var v=Array.isArray,h="undefined"!=typeof window&&m(window),g="undefined"!=typeof document&&m(document),_=["span","a","em","p","i"],E=_.concat(["div","strong","video","img","ol","ul","li","script"]);function y(e,t,n){var r=S(document.createElement(e));if(v(t)&&(n=t,t=!1),v(n)||(n=[n]),r.append(n.filter((function(e){return e}))),"object"!=typeof t)return r;for(var i in t)i in r?r[i]=t[i]:r.setAttribute(i,t[i]);return r}function S(e){return void 0===e||function(e){return e&&e.__flowplayer__}(e)?e:function(e){var t=e.tagName;e.__flowplayer__=1,e.find=function(t){var n=e.querySelector(t);return n?S(n):n},e.html=function(t){return e.innerHTML=t,e},e.empty=function(){return e.innerHTML="",e},e.offset=function(){var t={top:0,left:0},n=e;do{t.left+=n.offsetLeft||0,t.top+=n.offsetTop||0}while(n=n.offsetParent);return t},e.innerWidth=function(){var t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)};var n=e.insert=function(t,n){return v(n)?n.map((function(n){return e.insert(t,n)}))[0]:S(n="string"==typeof n?e.insertAdjacentHTML(t,n):e.insertAdjacentElement?e.insertAdjacentElement(t,n):e.appendChild(n))};return e.append=n.bind(e,"beforeend"),e.prepend=n.bind(e,"afterbegin"),e.css=function(t,n){if("object"==typeof t){for(var r in t)e.css(r,t[r]);return e}return void 0===n?getComputedStyle(e)[t]:(1*n&&(n+="px"),e.style[t]=n,e)},e.show=function(){return e.css({display:~_.indexOf(t)?"inline":"block"})},e.hide=function(){return e.css({display:"none"})},e.remove=function(){var t=e.parentNode;t&&t.removeChild(e)},e.attr=function(t,n){return null==n?e.getAttribute(t):(e.setAttribute(t,n),e)},e.txt=function(t){return e.textContent=t,e},e.fp=function(t){return e.addClass("fp-"+t)},e.addClass=function(t){return t.split(" ").forEach((function(t){e.hasClass(t)||(e.className+=(e.className?" ":"")+t)})),e},e.removeClass=function(t){t=t.split(" ");var n=e.className.split(" ");return e.className=n.filter((function(e){return!~t.indexOf(e)})).join(" "),e},e.toggleClass=function(t,n){return void 0===n&&(n=!e.hasClass(t)),n?e.addClass(t):e.removeClass(t)},e.findAll=function(t){return c(e.querySelectorAll(t))},e.hasClass=function(t){return~e.className.split(" ").indexOf(t)},e}(m(e))}function b(e,t){if("string"==typeof e&&"<"==e[0])return y(e.slice(1,-1),t);if("string"!=typeof e)return S(e);var n=t instanceof HTMLElement&&t.querySelector(".fp-"+e)||document.querySelector(e);return n?S(n):void 0}b.window=h,b.document=g,b.el=y,E.forEach((function(e){b[e]=function(t,n){return"string"==typeof t&&(t={class:t}),y(e,t,n)}}));var A=[];function w(){return A.filter((function(e){return!e.paused}))}var M=Object.freeze({__proto__:null,instances:A,playing:w}),O={MOUNT:"mount",ERROR:"error",CONTEXT_MENU:"contextmenu",CLICK:"click",DBL_CLICK:"dblclick",KEYUP:"keyup",KEYDOWN:"keydown",LOAD:"load",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",FULLSCREEN_CHANGE:"fullscreenchange",WEBKIT_NEEDKEY:"webkitneedkey",METADATA:"loadedmetadata",DATA:"loadeddata",PROGRESS:"progress",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",VOLUME_CHANGE:"volumechange",PAUSE:"pause",PLAYING:"playing",PLAY:"play",WAITING:"waiting",CAN_PLAY:"canplay",ENDED:"ended",SEEKED:"seeked",SEEKING:"seeking",DURATION_CHANGE:"durationchange",BEFORE_PLAY:"beforeplay",BEFORE_PAUSE:"beforepause",STATE:"state",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:"src",RECOVER:"recover",REAP:"reap",CONFIG:"config",QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal",RECOMMENDATIONS_READY:"recommendationsready",AUDIO_ONLY_SOURCE:"audioonlysource"},T={FULLSCREEN:"is-fullscreen",PLAYING:"is-playing",PAUSED:"is-paused",MUTED:"is-muted",LOADED:"is-loaded",LOADING:"is-loading",STARTING:"is-starting",SEEKING:"is-seeking",GRABBING:"is-grabbing",DISABLED:"is-disabled",SMALL:"is-small",TINY:"is-tiny",RTL:"is-rtl",ENDED:"is-ended",LIVE:"is-live",ERRORED:"is-error",WAITING:"is-waiting",AUTOPLAY:"is-autoplay",SEAMLESS:"is-seamless",NO_AUTOPLAY:"no-autoplay",TOGGLING:"is-toggling",LIVE_SEEKED:"is-live-seeked",NO_DVR:"no-timeline",HAS_POSTER:"has-poster"};function N(e,t){try{var n=t.exec(e)[1];return parseFloat(n,10)}catch(e){return console.error(e),0}}function k(){var e="undefined"!=typeof document&&"undefined"!=typeof window,t=e?navigator.userAgent:"",n=/iP(hone|od)/i.test(t)&&!/iPad/.test(t)&&!/IEMobile/i.test(t),r=/Android/.test(t)&&!/Firefox/.test(t),i=/IEMobile/.test(t),o=i?N(t,/Windows Phone (\d+\.\d+)/):0,a=i?N(t,/IEMobile\/(\d+\.\d+)/):0,s=/^((?!chrome|android).)*safari/i.test(t),u=function(){if(!e)return!1;if(document.documentMode)return document.documentMode;for(var t=9;t>3;t--){var n=document.createElement("div");if(n.innerHTML="\x3c!--[if IE "+t+"]><span></span><![endif]--\x3e",n.getElementsByTagName("span").length)return t}return!1}();return{controls:!n&&(!i||o>=8.1&&a>=11),video:function(t){return e&&document.createElement("video").canPlayType(t)},lang:e&&(window.navigator.userLanguage||window.navigator.language),android:r,iphone:n,ie:u,safari:s,ios:e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}}function P(e,t){var n=t.clientWidth;t.toggleClass(T.SMALL,n<600).toggleClass(T.TINY,n<400)}b.window&&b.window.on([O.LOAD,O.RESIZE],(function(){A.forEach((function(e){var t=e.root;t.prevWidth!=t.clientWidth&&(e.emit(O.RESIZE),t.prevWidth=t.clientWidth)}))}));function L(e){var t=function(e){var t=e.getBoundingClientRect(),n=window.innerHeight,r=t.height,i=t.bottom,o=r/5;return t.top<=o&&t.top+r>n-o||i-r+o>=0&&i<n+o}(e.root);return e.in_viewport===t||(e.in_viewport=t,e.emit(t?O.VIEW_ENTER:O.VIEW_LEAVE)),e}b.window&&b.window.on(O.SCROLL,(function(){A.forEach(L)}));var R=[function(e,t,n){var r=!0;t.addClass("flowplayer"),P(0,t),n.on([O.LOAD_START,O.RESIZE],(function(){P(0,t)})),n.on(O.STATE,(function(e){Object.keys(n.playerState).forEach((function(n){t.toggleClass(n,e.data[n])}))})),n.on(O.TIME_UPDATE,(function(){n.setState(T.WAITING,!1)})),n.on(O.CONFIG,(function(){var r=n.paused&&(!e.autoplay||t.hasClass(T.NO_AUTOPLAY))&&0==n.currentTime;[T.LOADING,T.STARTING].forEach((function(e){n.setState(e,r)}))})),n.on(O.ENDED,(function(t){setTimeout((function(){t.defaultPrevented||(e.rewind&&!n.loop&&(e.autoplay&&(e.autoplay=!1,n.setState(T.AUTOPLAY,!1),n.setState(T.SEAMLESS,!1)),n.setState(T.SEEKING,!0),n.one(O.SEEKED,(function(){n.setState(T.SEEKING,!1),n.pause(),n.setState(T.STARTING,!0)})),n.currentTime=0),n.one(O.TIME_UPDATE,(function(){n.setState(T.ENDED,!1)})),n.transitionState(T.ENDED,T.PLAYING,e.loop||e.rewind?0:300))}),0)})),n.on([O.SEEKING,O.SEEKED],(function(e){n.setState(T.SEEKING,e.type==O.SEEKING),n.setState(T.PAUSED,n.paused),n.setState(T.PLAYING,!n.paused)})),n.on(O.ENDED,(function(){r=!0})),n.on(k().ios?O.METADATA:O.DATA,(function(t){var r="src"!=t.type||!("none"==e.preload);n.setState(T.LOADED,r),n.setState(T.LOADING,!r)})),n.on([O.WAITING,O.CAN_PLAY,O.LOAD_START],(function(t){if(!n.hasState(T.SEEKING)&&(t.type!=O.CAN_PLAY||e.autoplay||n.setState(T.WAITING,!1),t.type!=O.LOAD_START||"none"!=e.preload||e.autoplay)){if(t.type==O.LOAD_START&&e.autoplay)return n.one(O.PLAYING,(function(){n.setState(T.WAITING,!1)}));t.type==O.WAITING&&[T.PLAYING,T.PAUSED,T.STARTING].forEach((function(e){n.setState(e,!1)})),n.setState(T.ENDED,!1);var r=[O.WAITING];n.setState(T.WAITING,r.indexOf(t.type)>-1)}})),n.on([O.PLAYING,O.PAUSE],(function(t){var i=t.type==O.PLAYING,o=n.currentTime==n.duration,a=i&&r&&e.autoplay||n.hasState(T.SEAMLESS)||n.hasState(T.WAITING);if(i&&(n.started=!0),!e.seamless&&r&&n.setState(T.SEAMLESS,!1),i&&(r=!1),n.setState(T.WAITING,!1).setState(T.STARTING,!1),!o&&!n.hasState(T.SEEKING)){r&&n.setState(T.STARTING,!1);var s=i?T.PLAYING:T.PAUSED,u=i?T.PAUSED:T.PLAYING;n.transitionState(s,u,a?0:300),i&&n.setState(T.NO_AUTOPLAY,!1)}}))},function(e,t,n){var r=b.div({class:"fp-ratio"});r.set=function(e){e=function(e){if("number"==typeof e&&!isNaN(e))return Number(e);if("string"==typeof e){var t=e.split(":");return Number(t[1])/Number(t[0])}return e}(e||.5625),r.css("padding-top",isNaN(e)?e:100*e+"%")},t.reaper.put("aspect_ratio",r),t.append(r);var i=[O.DATA,O.METADATA];n.on(i,(function(){r.set(e.ratio||n.videoHeight&&n.videoWidth&&n.videoHeight/n.videoWidth)})),n.on(O.CONFIG,(function(e){r.set(o(e,"data.ratio",n.videoHeight&&n.videoWidth&&n.videoHeight/n.videoWidth))}))},function(e,t,n){L(n);var r={should_resume:e.autoplay,has_user_gesture:!1,locked:!1};n.one([O.TOUCH_END,O.CLICK],(function(){r.has_user_gesture=!0})),n.on(O.PLAY,(function(){r.locked||(r.should_resume=!0)})),n.on(O.PAUSE,(function(){r.locked||(r.should_resume=!1)})),n.on(O.CAN_PLAY,(function(t){e.autoplay&&!w().size&&n.in_viewport&&n.paused&&r.should_resume&&n.togglePlay(!0)})),e.autopause&&(n.on(O.VIEW_ENTER,(function(){r.should_resume&&n.togglePlay(!0)})),n.on(O.VIEW_LEAVE,(function(){var e=!n.paused;r.locked=!0,n.pause(),setTimeout((function(){r.should_resume=e,r.locked=!1}),0)})))}];function I(){return R.filter((function(e){return"function"==typeof e.wants}))}function C(e){return Array.isArray(e)?e.join("."):e}function F(e,t){return t.length-e.length}function x(e){if(void 0!==e){if(e.reaper)return e.reaper;if(!(this instanceof x))return new x(e);var t=e.reaper=this;return t.tree=e,t.props=[],t.push=function(e){return t.props=t.props.concat(e),t},t.put=function(n,r){return t.push(n),a(e,n,r),r},t.run=function(n){(n=Array.isArray(n)?n:[]).push(t);for(var r=t.props.map(C).sort(F);r.length;){var i=r.shift(),s=o(e,i);s&&s.reaper&&!~n.indexOf(s.reaper)&&s.reaper.run(n),a(e,i,0)}for(var u in t)delete t[u];delete n[n.indexOf(t)],e.reaper=0},t}}function U(e){this.message=e}U.prototype=new Error,U.prototype.name="InvalidCharacterError";var D="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new U("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,a="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?a+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};var G=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(D(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return D(t)}};function B(e){this.message=e}B.prototype=new Error,B.prototype.name="InvalidTokenError";var V=function(e,t){if("string"!=typeof e)throw new B("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(G(e.split(".")[n]))}catch(e){throw new B("Invalid token specified: "+e.message)}};V.InvalidTokenError=B;var W={OFF:0,ON:1,AUDIO_REQUIRED:2};function j(){var e=this,t={};e.has=function(e){return!!t[e]},e.get=function(e){return t[e]},e.put=function(n,r){return t[n]=r,e},e.delete=function(n){return delete t[n],e},e.keys=function(){var e=[];for(var n in t)e.push(n);return e},e.each=function(n,r){for(var i in t)n.call(r||e,t[i],i);return e}}function H(e){return"function"==typeof e}function q(){throw new Error("Function was expected as Argument[0]")}var Y=[].slice;function K(e){if(!(this instanceof K))return new K(e);var t=this;return t.data=e,t.tap=function(){var e=Y.call(arguments),n=e.shift();return n==K.lift?t.data:H(n)?(n.apply(t,[t.data].concat(e)),t):void q()},t.into=t.fmap=function(){var e=Y.call(arguments),n=e.shift();return n==K.lift?t.data:H(n)?K(n.apply(t,[t.data].concat(e))):void q()},t.unwrap=function(){return t.data},t}function z(e,t,n,r){K.of(n).fmap(e.get).fmap(o,t).fmap(K.maybe,K.apply,r)}K.of=K,K.lift=function(e){return e instanceof K?e.data:e},K._apply=K.apply=function(e,t){if(0==t.length)return e();if(1==t.length)return e(t[0]);if(2==t.length)return e(t[0],t[1]);if(3==t.length)return e(t[0],t[1],t[2]);if(4==t.length)return e(t[0],t[1],t[2],t[3]);if(5==t.length)return e(t[0],t[1],t[2],t[3],t[4]);throw new Error("Pipe._apply() does not support arity > 5")},K.maybe=function(e,t,n){return e?K._apply(t,[e].concat(Y.call(arguments,2,arguments.length))):e},K.curry=function(e,t,n){return(t=t||[]).length>e.length-1?e.apply(n,t):function(){var r=t.concat(Y.call(arguments));return K.curry(e,r,n)}};var Q=new function(){j.call(this),this.render=K.curry(z,[this,"onrender"]),this.remove=K.curry(z,[this,"onremove"])};var X;function Z(e,t){t.multiplay||A.forEach((function(t){e!=t&&(t.toggleFullScreen(!1),t.pause())}))}function J(e){e.setState(T.AUTOPLAY,!1),e.setState(T.WAITING,!1),e.setState(T.SEAMLESS,!1),e.setState(T.PAUSED,!0),0==e.currentTime&&e.setState(T.STARTING,!0),e.setState(T.NO_AUTOPLAY,!0)}function $(e){return e.catch((function(e){if("AbortError"!=e.name)throw e}))}function ee(e,t,n){var r=n.muted;return t.__pending_play=$(e),e.catch((function(e){if(t.paused)return function(e){return W.AUDIO_REQUIRED&e.autoplay}(n)?{err:W.AUDIO_REQUIRED}:function(e,t){return e.muted=t.muted=!0,$(e.play())}(t,n)})).then((function(){Z(t,n)})).catch((function(e){t.started||(n.autoplay=!1,n.muted=r,t.toggleMute(!1),J(t),console.error(e))})).then((function(){t.__pending_play=void 0,t.setState(T.SEAMLESS,!1)}))}function te(e,t,n){var r="boolean"==typeof n;if("boolean"!=typeof n&&(n=e.paused),!function(e,t,n){var r=e.emit(t?O.BEFORE_PLAY:O.BEFORE_PAUSE,{forced:n},{return_self:!1});return r&&r.defaultPrevented}(e,n,r))try{if(0==n)return e.pause();var i=e.__pending_play;if(0==e.paused&&!i)return;if(i)return i.src!==re(e.original_src)&&ne(e),e.__pending_play;(function(e){return(0==e.networkState||0==e.readyState)&&e.currentSrc==re(e.original_src)})(e)&&ne(e);var o=e.play();if(o&&(o.src=re(e.original_src)),o&&"function"==typeof o.catch)return ee(o,e,t);e.paused&&n&&0==e.currentTime&&J(e),Z(e,t)}catch(t){e.emit(O.ERROR,t)}}function ne(e){e.currentSrc.match(/^blob:/)||e.load()}function re(e){var t=document.createElement("a");return t.href=e,t.href}function ie(e){var t=document.createElement("a");t.href=e;var n=t.pathname&&t.pathname.split(".");return n.length>1&&n[n.length-1]}function oe(e){switch(e){case"video/mpd":return"application/dash+xml";case"video/m3u8":return"application/x-mpegurl";default:return e}}function ae(e){var t=e.split("{"),n=t[1];return n?n.slice(0,-1).split(",").map((function(e){return{src:t[0]+e,type:oe("video/"+e)}})):[{src:e,type:oe("video/"+ie(e))}]}function se(e){var t=e.src,n=e.type;return t&&n?[{src:t,type:n}]:[{src:t,type:oe("video/"+ie(t))}]}function ue(e,t,n){n=function(e){return"string"==typeof e?ae(e):Array.isArray(e)||"object"!=typeof e?e.reduce((function(e,t){return"string"==typeof t&&(t=ae(t)),"object"!=typeof t||Array.isArray(t)||(t=se(t)),e.concat(t)}),[]):se(e)}(n),e.currentSrc&&(e.innerHTML="");for(var r=0;r<n.length;r++){var i=n[r];if(X.Ok==ce(e,t,i))break;if(X.Ok==le(e,t,i))break;r==n.length-1&&(e.src=i.src)}return function(e,t){(function(e,t){if(!e.currentSrc)return;if("none"==t.preload)return;if(t.autoplay&&t.autoplay>0)return;e.load()})(e,t),"none"==t.preload&&e.render()}(e,t),e}function ce(e,t,n){e.emit(O.SOURCE,n),e.original_src=n.src;var r=function(e,t){return I().filter((function(n){return n.wants(t.src,t,e)}))}(t,n);return 0==r.length?X.Err:(r[0].call(e,t,e.root,e,n),X.Ok)}function le(e,t,n){return/^audio\//.test(n.type||"")&&e.emit(O.AUDIO_ONLY_SOURCE),t.start_time&&(n.src=n.src+"#t="+t.start_time),""==e.canPlayType(n.type||"")?X.Err:(e.src=n.src,X.Ok)}!function(e){e[e.Err=0]="Err",e[e.Ok=1]="Ok"}(X||(X={}));var fe=["loop","muted","preload"];function de(e){var t=Array(e.length),n=0;if(0==e.length)return t;for(;n<e.length;)t[n]=[e.start(n),e.end(n)],n++;return t}function pe(e,t,i){i.toJSON=function(){return{duration:i.duration,volume:i.volume,currentTime:i.currentTime,buffered:de(i.buffered),played:de(i.played),states:i.root.className}},i.setSrc=function(t){return ue(i,e,t)},i.playerState=i.playerState||{},i.setState=function(e,t){var n={};return n[e]=t,(n=r({},i.playerState,n))[T.WAITING]&&(n[T.PLAYING]=!1),T.STARTING||(n[T.PAUSED]=!n[T.PLAYING]),i.playerState=n,i.emit(O.STATE,i.playerState)},i.hasState=function(e){return!!i.playerState[e]},i.transitionState=function(e,t,n){i.hasState(e)&&(n=0),n&&i.setState(T.TOGGLING,!0),i.setState(t,!1),i.setState(e,!0),n&&setTimeout((function(){i.setState(T.TOGGLING,!1)}),n)},i.render=function(e,t){return"string"==typeof e?Q.render(e,t):(i.emit(k().ios?O.METADATA:O.DATA),i.emit(O.CAN_PLAY),i)},i.togglePlay=function(t,n){var r=te(i,e,t);return"function"!=typeof n?r:r&&"object"==typeof r&&"catch"in r?r.then(n):n()},i.toggleMute=function(e){"boolean"!=typeof e&&(e=!i.disabled),i.muted=!i.muted,i.muted||i.volume||(i.volume=1),i.emit(O.VOLUME_CHANGE)},i.toggleDisable=function(e){"boolean"!=typeof e&&(e=!i.disabled),i.setState(T.DISABLED,e),i.disabled=e},i.destroy=i.reap=function(e){i.pause();var t=A.indexOf(i);~t&&A.splice(t,1),i.emit(O.REAP),setTimeout((function(){i.setSrc([]),"function"==typeof e&&e()}),0)},i.setAttrs=function(e){fe.forEach((function(t){var n=l(e[t]);if(n)return i.attr(t,n),void(t in i&&(i[t]=n));!1===n&&(i.removeAttribute(t),t in i&&(i[t]=n))}))},i.setOpts=function(r){if(0!=i.reaper){n(e,r);var o=!!e.autoplay&&!i.hasState(T.NO_AUTOPLAY);i.setState(T.AUTOPLAY,o),i.setState(T.RTL,!!e.rtl),i.setState(T.LIVE,!!e.live),i.setState(T.NO_DVR,!(!e.live||e.dvr)),i.setState(T.SEAMLESS,!(!e.seamless&&!o)),i.setState(T.HAS_POSTER,"string"==typeof e.poster&&e.poster.length>0),t.style.backgroundImage=i.hasState(T.HAS_POSTER)?"url("+e.poster+")":"",i.emit(O.CONFIG,e)}}}function me(e,t){var n=t.querySelector("video"),r=b(n||(e._video_element_callback?e._video_element_callback(e):document.createElement("video")));return r.addClass("fp-engine"),x(r),r.async=void 0!==n,r.async&&!r.paused?(r.setState(T.PLAYING,!0).setState(T.SEAMLESS,!0),r):(r.attr("playsinline",""),r.attr("webkit-playsinline",""),t.append(r),r)}var ve=["complete","interactive","loaded"];function he(){if("undefined"==typeof document)return!1;var e=document.documentElement;return e&&"rtl"==e.getAttribute("dir")}function ge(e){if(!e)return he();var t=e.getAttribute("dir");return t?"rtl"==t:he()}var _e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Ee(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});var n=e.flowplayer;return"function"==typeof n?(n(t),t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t),t)}function ye(){return"undefined"!=typeof window?window:void 0!==_e?_e:{}}function Se(e){try{return we.validate(e),{success:!0}}catch(e){return{success:!1,message:e.message}}}var be=["localhost","127.0.0.1","0.0.0.0","s.codepen.io","cdpn.io"];function Ae(e,t){return!!~be.indexOf(e)||e.indexOf(t)===e.length-t.length}function we(e,t){var n={};t=t||{};try{n=V(e),this.valid_jwt=!0}catch(e){}this.raw=e,this.data=JSON.parse(n.c||"{}"),this.exp=n.exp,t.require_valid_token&&we.validate(this)}function Me(e,t){if("function"!=typeof e){"string"==typeof t&&(t={src:t}),t=n({controls:!0,preload:"none"},t);var r=b(e);if(t=n({rtl:ge(r)},t),!r)return console.error(new Error("Flowplayer: '"+e.toString()+"' not found"));if(r.video)return r.video;var i=Se(t.token);if(!i.success)return Oe(r,null,{reason:"token",details:i.message});if(k().ie>0&&r.addClass("poor-flex"),!k().video)return r.append(b.img({src:t.poster}));var o=x(r),a=o.put("video",me(t,r));a.once(O.REAP,o.run),o.put("video.root",r),!~A.indexOf(a)&&A.push(a),pe(t,r,a),a.setAttrs(t),R.forEach((function(e){"function"==typeof e.onapi&&e.onapi.call(Me,t,r,a)})),R.forEach((function(e){e.call(Me,t,r,a)})),a.reaper.put("opts",t),a.setOpts(t),t.src&&a.setSrc(t.src);var s=a.readyState;return s>0&&a.currentSrc&&a.emit(O.METADATA),s>2&&a.currentSrc&&a.emit(O.CAN_PLAY),"none"==t.preload&&a.paused&&a.currentSrc&&a.render(),a.emit(O.MOUNT),a.on(O.NON_RECOVERABLE_ERROR,(function(e){Oe(r,a,e.data)})),a}for(var u=0;u<arguments.length;++u){var c=arguments[u];R.push(c),"function"==typeof c.onumd&&c.onumd(Me)}}function Oe(e,t,n){t&&t.destroy(),e.innerHTML="",e.removeClass("flowplayer"),e.addClass("flowplayer-fatal"),e.append(b.el("h2",{},"Playback error")),e.append(b.p({},"Are you the site owner?")),e.append(b.a({className:"troubleshoot",target:"_blank",href:"https://flowplayer.com/help/developers/troubleshooting?reason="+n.reason},"Troubleshoot")),e.append(b.a({},b.img({src:"https://flowplayer.com/user/pages/images/logo-white.png"}))),console.error(new Error(n.details||n.reason))}Ae.check_whitelist=function(e){return!!~be.indexOf(e)},we.validate=function(e){if("string"==typeof e&&(e=new we(e)),!e||!e.raw){if(Ae.check_whitelist(window.location.hostname))return!0;throw new Error("No token provided in configuration")}if(!e.valid_jwt)throw new Error("Invalid token provided");var t=window.location.hostname,n=Ae.bind(null,t);if(e.data.domain&&e.data.domain.length&&!e.data.domain.some(n))throw new Error("Domain not allowed");if(1e3*e.exp-Date.now()<0)throw new Error("Expired token");return!0},we.id=function(e){if(e)return"string"==typeof e&&(e=new we(e)),e.data.id},r(Me,function(){var e=ye(),t=e.flowplayer?e.flowplayer:{extensions:[]};return Array.isArray(t.extensions)||(t.extensions=[]),t}()),function(e){Array.isArray(e.extensions)&&e.extensions.forEach((function(e){R.push(e)})),e.components=Q,e.version="2.5.1",e.commit="7420bd6a559a8096ec5608f737a10cc621878074",e.Players=M,e.instances=A,e.extensions=R,e.loaders=I,e.support=k,e.events=O,e.states=T,e.mq=b,e.jwt=V,e.util=f,e.observable=m,e.Reaper=x,e.autoplay=e.autoplay_options=W,e.extensions.forEach((function(t){"function"==typeof t.onumd&&t.onumd(e)}))}(Me),"object"==typeof document&&"function"==typeof document.emit&&setTimeout(document.emit,0,"flowplayer:umd",Me);var Te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ke(e,t){return e(t={exports:{}},t.exports),t.exports}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}},configurable:!0,writable:!0});var Pe=ke((function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),p=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:o.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})}));Ne(Pe);Pe.bowser;var Le=ke((function(e,t){var n=Te&&Te.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return n({},e,t)}),{})},t.pluck=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return Object.keys(e).filter((function(e){return~n.indexOf(e)})).reduce((function(n,r){var i;return t.merge(n,((i={})[r]=e[r],i))}),{})},t.downcase=function(e){return(e||"").toString().toLowerCase()},t.remove=function(e,t){var n=e.lastIndexOf(t);return~n&&e.splice(n,1),e}}));Ne(Le);Le.merge,Le.pluck,Le.downcase,Le.remove;var Re=ke((function(e,t){var n=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};t.__esModule=!0;var i=n(Pe),o=r(Le),a=i.default.parse(window.navigator.userAgent),s=a.platform,u=a.os,c=a.browser;t.default=function(){try{return{os:o.downcase(u.name+(u.versionName?" "+u.versionName:"")),device:o.downcase(s.type),browser:o.downcase(c.name),browser_version:(c&&c.version?c.version:"unknown").split(".").shift()}}catch(e){return{os:"",device:"",browser:"",browser_version:""}}}()}));Ne(Re);var Ie=ke((function(e,t){var n=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};t.__esModule=!0;var r=n(Le),i=function(){function e(){this.pending=[],this.open=[],this.stats={failures:0,ttl:0}}return e.of=function(){return new e},e.is_empty=function(e){return 0==e.pending.length},e.is_high_water=function(t){return t.open.length==e.MAX_OPEN_REQUESTS},e.maybe_spawn_req=function(t){if(e.is_empty(t))return t;if(e.is_high_water(t))return t;try{var n=e.lpop(t);n&&e.request(t,n)}catch(e){}},e.increment_failures=function(t){return t.stats.failures++,t.stats.failures>e.MAX_FAILURE_COUNT&&(t.stats.ttl=Date.now()+e.REQUEST_TTL_MS),t},e.handle_error=function(t,n){e.rm(t,n),e.increment_failures(t)},e.request=function(t,n){var r=n[0],i=n[1],o=n[2];if(!(Date.now()<t.stats.ttl)){var a=new XMLHttpRequest;t.open.push(a),a.timeout=e.REQUEST_TIMEOUT_MS,a.ontimeout=function(){e.handle_error(t,a)},a.onerror=function(n){e.handle_error(t,a)},a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&e.rm(t,a),Math.floor(a.status/100)},a.onload=function(){e.rm(t,a),t.stats.failures&&t.stats.failures--},a.open(i,r),a.setRequestHeader("Content-Type","text/plain;charset=UTF-8");try{a.send(JSON.stringify(o))}catch(e){}}},e.rpush=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.forEach((function(n){t.pending.length>=e.MAX_PENDING||(t.pending.push(n),e.maybe_spawn_req(t))})),t},e.lpop=function(e){return e.pending.shift()},e.rm=function(e,t){return r.remove(e.open,t),e},e.MAX_OPEN_REQUESTS=3,e.MAX_PENDING=5,e.REQUEST_TIMEOUT_MS=4e3,e.REQUEST_TTL_MS=5e3,e.MAX_FAILURE_COUNT=3,e}();t.default=i}));Ne(Ie);var Ce=ke((function(e,t){var n=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var r=n(Ie);t.default=r.default.of()}));Ne(Ce);var Fe=ke((function(e,t){t.__esModule=!0,t.URL_PARAM=/:([a-zA-Z_]+)/g,t.prepare_url=function(e,n){return e.url.replace(t.URL_PARAM,(function(t){if((t=t.slice(1,t.length))in n)return n[t].toString();e.log.error(new Error("\n      preparing url["+e.url+"] failed\n      \n      parameter["+t+"] not detected in params:\n      \n      "+JSON.stringify(n,null,2)+"\n    "))}))}}));Ne(Fe);Fe.URL_PARAM,Fe.prepare_url;var xe=ke((function(e,t){t.__esModule=!0;var n=function(){function e(e){this.emitter=e}return e.prepare=function(e,t){var n=document.createEvent("Event");return n.initEvent(name,!1,!0),n.ns=e,n.data=t,n},e.of=function(t){return new e(t)},e.prototype.info=function(t){this.emitter.dispatchEvent(e.prepare(e.NAMESPACE.INFO,t))},e.prototype.error=function(t){this.emitter.dispatchEvent(e.prepare(e.NAMESPACE.ERROR,t))},e.prototype.warn=function(t){this.emitter.dispatchEvent(e.prepare(e.NAMESPACE.WARN,t))},e.NAMESPACE={INFO:"tracker:info",ERROR:"tracker:err",WARN:"tracker:warn"},e}();t.Log=n}));Ne(xe);xe.Log;var Ue=ke((function(e,t){t.__esModule=!0,function(e){e.POST="POST",e.PUT="PUT",e.GET="GET"}(t.Verb||(t.Verb={}))}));Ne(Ue);Ue.Verb;var De=ke((function(e,t){var n=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};t.__esModule=!0;var i=n(Ce),o=n(Ie),a=r(Fe),s=r(Le),u=function(){function e(t,n){void 0===n&&(n={});var r=this,u=this;if(this.emitter=t,this.url=n.url,this.log=xe.Log.of(this.emitter),this.verb=n.verb,this.metadata=s.merge({},n.metadata||{}),this.rq=n.rq||i.default,this.events=n.events||[],this.required_keys=n.required_keys||[],this.optional_keys=n.optional_keys||[],this.listeners=[],this.valid_keys=this.required_keys.slice(0).concat(this.optional_keys),e.assert_emitter_api(this.emitter),void 0===e.verb[this.verb])throw new Error("invalid HTTP verb["+this.verb+"] passed");if("string"!=typeof this.url)throw new Error("invalid API url["+this.url+"] passed");e.TRACKERS.push(this),u.events.forEach((function(t){e.create_listener(r,t,(function(n){void 0===n&&(n={});var i=s.merge(u.metadata,{event_type:t},n.data||n),c=a.prepare_url(u,i),l=e.pluck_valid_keys(u,i),f=e.ensure_required_keys(u,l);if(f.length)return u.log.error("Tracker.validate_metadata() failed for \n            Event["+t+"]\n            missing keys: "+f+"\n            payload:\n              "+JSON.stringify(l,null,2));o.default.rpush(r.rq,[c,r.verb,l])}))}))}return e.of=function(t,n){return new e(t,n)},e.ensure_required_keys=function(e,t){return e.required_keys.filter((function(e){return!(e in t)}))},e.pluck_valid_keys=function(e,t){return s.pluck.apply(s,[t].concat(e.valid_keys))},e.merge_metadata=function(t,n){return void 0===n&&(n={}),t.metadata=e.pluck_valid_keys(t,s.merge(t.metadata,n)),t},e.assert_emitter_api=function(e){if("function"!=typeof(e||{}).addEventListener)throw new Error("Tracker() received an emitter that does not implement the addEventListener method");if("function"!=typeof(e||{}).removeEventListener)throw new Error("Tracker() received an emitter that does not implement the removeEventListener method")},e.create_listener=function(e,t,n){e.listeners.push([t,n]),e.emitter.addEventListener(t,n)},e.prototype.destroy=function(){var t=this;this.listeners.forEach((function(e){var n=e[0],r=e[1];return t.emitter.removeEventListener(n,r)})),delete this.rq,delete this.emitter,s.remove(e.TRACKERS,this)},e.prototype.put=function(t){return void 0===t&&(t={}),e.merge_metadata(this,t),this},e.TRACKERS=[],e.QUEUE=i.default,e.verb=Ue.Verb,e}();t.default=u}));Ne(De);var Ge=ke((function(e,t){var n=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};t.__esModule=!0;var i=n(Re);t.Device=i.default;var o=n(De);t.Tracker=o.default;var a=r(Fe);t.API=a}));Ne(Ge);var Be=Ge.Device,Ve=Ge.Tracker,We=(Ge.API,Object.freeze({__proto__:null,ADS:2,ANALYTICS:4,NO_METERING:8})),je={};for(var He in We)je[We[He]]=He;function qe(e){if(!(this instanceof qe))return new qe(e);var t=this;t.grant=e,t.is_granted=function(e){return(t.grant&e)===e}}qe.of=qe,qe.from_token=function(e){var t=new we(e,{require_valid_token:!0});return qe.of(t.data.acl)},qe.permissions=We;var Ye="ping",Ke="display",ze="view";var Qe={3:!0,5:!0,7:!0,9:!0};var Xe=function(e){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}(Array(16)).reduce((function(e,t,n){var r=(t+256).toString(16).substr(1);return e+(Qe[n]?"-":"")+r}),""),Ze=["sitegroup_id","session_id","media_id","site_id","player_id","video_type"],Je=["created","position"],$e=["player_version","device_info","created","source","category","category_id","autoplay","muted"];function et(e,t,n){if(!(this instanceof et))return new et(e,t,n);var r=this;return r.name=e.name||"RL::anonymous::"+Date.now(),r.locked=!1,r.ttl=t,r.unlock=function(){return r.locked=!1,r},r.run=function(){r.locked||(r.locked=setTimeout((function(){return e.apply(null,n),r.unlock()}),t))},r.cancel=function(){return r.locked&&clearTimeout(r.locked),r.unlock()},r}function tt(e,t,n){if(!(this instanceof tt))return new tt(e,t,n);var i=this;i.last_idx=1,i.segment_duration=0,i.breakpoints=[],i.calculate_segment_info=function(){return t.duration/1===t.duration&&r(i,tt.segment_info(t.duration))},i.run=function(){if(i.segment_duration||i.calculate_segment_info()){var e=tt.select_watched_segments(i,t);0!=e.length&&t.emit(Ye,{position:e})}},i.update=function(){i.calculate_segment_info(),tt.select_watched_segments(i,t)}}tt.segment_info=function(e){var t=e/100;return{segment_duration:t,breakpoints:Array.apply(null,Array(100)).map((function(e,n){return Math.floor(n*t*1e3)/1e3}))}},tt.select_watched_segments=function(e,t){var n=e.last_idx||1,r=Math.floor(t.currentTime/e.segment_duration);return e.last_idx=r,r<n?[]:e.breakpoints.slice(n,r).map((function(t){return e.breakpoints.indexOf(t)}))};function nt(e,t,n){if(!(this instanceof nt))return new nt(e,t,n);var r=this;r.last_tracked_ts=Date.now(),r.ticks=0,r.run=function(){var e=Date.now();e-r.last_tracked_ts<6e4||(r.last_tracked_ts=e,++r.ticks,t.emit(Ye,{position:60*r.ticks}))},r.update=function(){}}nt.within=function(e,t,n){var r=e+t.right,i=e-t.left;return n<r&&n>i};var rt=[Ke,Ye,ze];function it(e){var t=e.ads;return void 0!==t&&(void 0!==t.schedule&&("function"==typeof t.hasPreroll&&(t.currentRequests?t.currentRequests:!!t.adPlaying||!(!t.hasPreroll()||0!=t.nextIndex))))}function ot(){try{return window.location!==window.parent.location?document.referrer:document.location.href}catch(e){return!1}}function at(e){e.ended||(e.ended=!0,e.comp.cancel(),e.ping())}var st=Ee(ye(),(function(e,t,n){if(qe.from_token(e.token).is_granted(qe.permissions.ANALYTICS)&&!n.analytics){var r=n.analytics={ticker:void 0,last_media_id:void 0,ping:function(){r.ticker&&r.ticker.run()},comp:et((function(){r.ping()}),6e3),ended:void 0},i={device_info:[Be.device,Be.os].join(","),session_id:Xe,autoplay:n.autoplay,muted:n.muted,player_id:e.player_id},a=n.analytics.tracker=Ve.of(n,{verb:Ve.verb.POST,url:"https://ptm.flowplayer.com/:video_type/:sitegroup_id/:event_type",events:rt,required_keys:Ze,optional_keys:[].concat($e).concat(Je),metadata:i,video_type:e.live?"live":"vod"});n.on(O.REAP,(function(){a&&a.destroy(),a=0})),n.on(O.CONFIG,(function(t){if(a){var i=o(t,"data.metadata",{});if(i.media_id){var s=o(a,"metadata.media_id");if(!s||i.media_id!=s){var u=o(e,"analytics",{});a.put(i),a.put(u),a.put({video_type:e.live?"live":"vod",source:e.source||ot()||""}),r.ticker=e.live?nt(r,n,a):tt(r,n,a),r.ended=!1,n.emit(Ke)}}}}));var s=void 0;n.on(O.PLAYING,(function(){if(a&&!s&&!function(e,t){return e.metadata.media_id&&e.metadata.media_id==t.last_media_id}(a,r)){a.put({muted:n.muted});var e=it(n);if(e)return s=function(e,t,n){if(e&&"function"==typeof e.then){var r=e.then(t);if("function"!=typeof n)return r;r.catch(n)}}(e,(function(){r.last_media_id=a.metadata.media_id,n.emit(ze),n.emit(Ye,{position:[0]}),s=void 0}),(function(){s=void 0}));r.last_media_id=a.metadata.media_id,n.emit(ze),n.emit(Ye,{position:[0]})}})),n.on(O.TIME_UPDATE,(function(){if(a&&!(s||it(n)||r.ended))return!e.live&&n.currentTime>=Math.floor(n.duration)?at(r):void r.comp.run()})),n.on(O.SEEKED,(function(){a&&r.ticker&&r.ticker.update()})),n.on(O.ENDED,(function(){a&&at(r)}))}}));st.Tracker=Ve;var ut=O.LANDSCAPE="landscape",ct=O.PORTRAIT="portrait";function lt(){}"undefined"!=typeof window&&window.matchMedia&&[ut,ct].forEach((function(e){window.matchMedia("(orientation: "+e+")").addListener((function(t){A.length&&A.forEach((function(n){t.matches&&n.emit(e)}))}))}));var ft=T.TOUCHED="is-touched",dt=T.HOVERED="is-hovered",pt=T.IS_TOUCH_DEVICE="is-touch-device";function mt(e,t,n){var r;"undefined"!=typeof window&&"ontouchstart"in window&&n.setState(pt,!0),n.setState("is-accessibility",!1),t.middle.on(O.TOUCH_END,(function(e){0!=e.cancelable&&(e.preventDefault(),n.emit(e.type,e.data))})),n.on(O.TOUCH_END,(function(e){setTimeout((function(){if(!e.defaultPrevented&&!n.hasClass(T.WAITING)){if(n.ended)return n.togglePlay(!0);var t=n.hasState(T.STARTING);r&&clearTimeout(r),(t||n.hasState(ft)||n.hasState(T.NO_AUTOPLAY))&&(n.hasState(ft)&&(n.setState(ft,!1),n.setState(dt,!1)),n.togglePlay(),t)||(n.setState(ft,!0),n.paused||(r=setTimeout((function(){r=0,n.setState(ft,!1),n.setState(dt,!1)}),2e3)))}}),0)}))}var vt=b.document;function ht(e,n){var r,i,o;if("grabbing"in e)return e;e.grabbing=!1,e.touching=!1;var a=n.onseek||t,s=n.onstart||t,u=n.onend||t,c=n.onmouse||t,l=n.ontouch||t,f=n.ontouchend||t,d=n.ctx;function p(t){r=e.offset().left,i=e.clientWidth;var n=(function(e){return"function"==typeof window.TouchEvent&&e instanceof TouchEvent}(t)?t.changedTouches[0].pageX:t.pageX)-r;return n>i&&(n=i),n<0&&(n=0),Math.round(n/i*100)}function m(t){var n=p(t);n!=o&&(a.call(d,n,e),o=n)}function v(e){if(e){var t="";return Array.prototype.forEach.call(e.classList,(function(e){t="."+e})),t}}function h(e){var t=window.getComputedStyle(e);return"0"!==t.width&&"0"!==t.height&&"0"!==t.opacity&&"none"!==t.display&&"hidden"!==t.visibility}return e.on(O.TOUCH_START,(function(t){t.target.closest(v(e))&&(e.touching=!0,h(e.parentElement)&&(t.preventDefault(),e.grabbing=!0,l(d,e),s(d,e),m(t)))})),e.on(O.TOUCH_MOVE,(function(t){t.target.closest(v(e))&&h(e.parentElement)&&e.touching&&(t.preventDefault(),m(t),c.call(d,p(t),e))})),e.on(O.TOUCH_END,(function(t){setTimeout((function(){e.touching=!1,console.debug("Touching to false")}),500),t.target.closest(v(e))&&h(e.parentElement)&&(t.preventDefault(),e.grabbing=!1,f(d,e),u(d,e),i=0)})),e.on(O.TOUCH_CANCEL,(function(){e.touching=!1,e.grabbing=!1,i=0})),e.on(O.MOUSE_DOWN,(function(t){e.touching||(vt.on(O.MOUSE_MOVE,m),e.grabbing=!0,s.call(d,e),t.preventDefault(),m(t))})),e.on(O.MOUSE_MOVE,(function(t){e.touching||c.call(d,p(t),e)})),vt.on(O.MOUSE_UP,(function(){e.touching||(vt.off(O.MOUSE_MOVE,m),e.grabbing=!1,u.call(d,e),i=0)})),e}Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null});var gt=new function(){function e(){this.getItem=this.removeItem=this.setItem=t}function n(t,n){var r=function(){try{return window.localStorage||new e}catch(t){return new e}}();return function(){try{return r[t].apply(r,arguments)}catch(e){return n}}}this.removeItem=n("removeItem"),this.getItem=n("getItem",null),this.setItem=n("setItem")};function _t(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Et(e){var t,n,r=_t("svg");return r.setAttribute("viewBox",e.coords),e.name&&r.setAttribute("class",e.name),e.title&&r.setAttribute("title",e.title),e.title&&r.setAttribute("aria-label",e.title),r.setAttribute("tabindex","0"),r.setAttribute("focusable","true"),r.appendChild((t=e.link,(n=_t("use")).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t),n)),b(r)}var yt={coords:"-1 -2 40 30",name:"fp-fullscreen",link:"#fp-fs",translation_key:"core.fullscreen"},St={coords:"-1 -2 40 30",name:"fp-fullscreen-exit",link:"#fp-exit",translation_key:"core.exit_fullscreen"},bt={coords:"-2 -2 50 50",name:"fp-play",link:"#fp-play",translation_key:"core.play"},At={coords:bt.coords,name:"fp-pause",link:"#fp-pause",translation_key:"core.pause"},wt={coords:bt.coords,name:"fp-play fp-play-stroke",link:"#fp-play-stroke",translation_key:"core.play"},Mt={coords:bt.coords,name:"fp-pause fp-pause-stroke",link:"#fp-pause-stroke",translation_key:"core.pause"},Ot={coords:bt.coords,name:"fp-play fp-play-circle",link:"#fp-play-circle",translation_key:"core.play"},Tt=Mt,Nt={coords:"-2 -2 36 58",link:"#fp-volume",translation_key:"core.mute"},kt={coords:"-2 -2 50 50",link:"#fp-play",translation_key:"core.play",name:"fp-small-play"},Pt={coords:"-2 -2 50 50",link:"#fp-pause",translation_key:"core.pause",name:"fp-small-pause"},Lt=Object.freeze({__proto__:null,ENTER_FULLSCREEN:yt,EXIT_FULLSCREEN:St,PLAY_1:bt,PAUSE_1:At,PLAY_2:wt,PAUSE_2:Mt,PLAY_3:Ot,PAUSE_3:Tt,VOLUME:Nt,SMALL_PLAY:kt,SMALL_PAUSE:Pt,FACEBOOK:{coords:"-5 25 460 460",link:"#fp-facebook",name:"fp-facebook"},LINK:{coords:"0 0 512 512",link:"#fp-link",name:"fp-link"},SHARE:{coords:"0 0 448 512",link:"#fp-share",name:"fp-share"},EMBED:{coords:"0 0 512 512",link:"#fp-share",name:"fp-embed"},TWITTER:{coords:"0 0 512 512",link:"#fp-twitter",name:"fp-twitter"},AIRPLAY:{coords:"0 0 512 512",link:"#fp-airplay",name:"fp-airplay"},SKIP_NEXT:{coords:"0 0 41 42",link:"#fp-skip-next",translation_key:"core.skip-next",name:"fp-skip-next"},SKIP_PREV:{coords:"0 0 41 42",link:"#fp-skip-prev",translation_key:"core.skip-prev",name:"fp-skip-prev"},MUTE:{coords:"-22 -22 122 122",link:"#fp-mute",translation_key:"core.mute",name:"fp-mute"},UNMUTE:{coords:"-22 -22 122 122",link:"#fp-unmute",translation_key:"core.mute",name:"fp-unmute"},CLOSE:{coords:"19 0 80 80",link:"#fp-close",translation_key:"core.close",name:"fp-close"}}),Rt=Object.freeze({__proto__:null,NO_FULLSCREEN:1,NO_VOLUME_CONTROL:2,NO_MUTE:4,LOGO_ON_RIGHT:8,USE_DRAG_HANDLE:16,USE_PLAY_2:32,USE_PLAY_3:64,USE_THIN_CONTROLBAR:128,NO_TITLE:256,NO_DESCRIPTION:512,NO_CONTROLS:1024,NO_DURATION:2048,NO_HEADER:4096}),It="function"==typeof Audio&&new Audio||{};function Ct(e,t,n){if(e.controls){var r=b.div("fp-volume"),i=xt.call(n,r,Ft,e.rtl,n.root),o=b.div("fp-volumebtn",Et(Nt));if(t.append(o),o&&o.on(O.CLICK,n.toggleMute),.1==It.volume&&t.append(r),r.attr("tabindex","0").attr("role","slider").attr("aria-valuemin","0").attr("aria-valuemax","1").attr("aria-label",n._t("core.volume","volume")),e.muted_initially&&gt.setItem("mute",1==e.muted_initially),n.on(O.VOLUME_CHANGE,(function(){var e=0==n.volume||n.muted;if(n.setState(T.MUTED,e),gt.setItem("mute",e),o.attr("aria-label",e?n._t("unmute","unmute"):n._t("mute","mute")),e)return i.adjust(0);i.grabbing||i.adjust(n.volume)})),"true"==gt.getItem("mute")&&(n.muted=!0,n.setState(T.MUTED,n.muted)),e.muted_initially)return n.volume=0,n.one(O.PAUSE,(function(){n.volume=1*(gt.getItem("volume")||1),n.play()})),i;var a=gt.getItem("volume");return a&&!isNaN(a)&&(n.volume=Number(a)),n.emit(O.VOLUME_CHANGE),i}}function Ft(e,t){e>0&&(this.muted=!1,gt.removeItem("mute")),gt.setItem("volume",this.volume=e/100),t.adjust(this.volume)}function xt(e,t,n,r){var i=10;return e.empty(),r.hasClass("is-small")&&(i=8),r.hasClass("is-tiny")&&(i=6),ht(e,{onseek:t,ctx:this}),Dt(e,i),e}function Ut(){return b.i("fp-tick")}function Dt(e,t){var n=Array.apply(null,Array(t)).map(Ut);return e.append(n),e.adjust=function(r){e.attr("aria-valuenow",r);var i=(r*=100)/100,o=Math.round(i*t);n.slice(o,t).forEach(Ut.off),n.slice(0,o).forEach(Ut.on)},e}function Gt(e,t,n){n.toggleFullScreen=function(r,i){n.ios_fullscreen_disabled||("boolean"!=typeof r&&(r=!n.in_fullscreen),r!=n.in_fullscreen&&(n.in_fullscreen=r,n.emit(r?O.FULLSCREEN_ENTER:O.FULLSCREEN_EXIT),n.emit(O.RESIZE),b.document.fullscreenEnabled&&!e.fake_fullscreen&&(r?t.requestFullScreen():b.document.exitFullScreen()),Bt()&&(n.in_fullscreen?function(e){e.getAttribute("playsinline")&&e.removeAttribute("playsinline");e.getAttribute("webkit-playsinline")&&e.removeAttribute("webkit-playsinline");e.webkitEnterFullScreen()}(n):function(e,t,n){e.getAttribute("playsinline")||e.setAttribute("playsinline","");e.getAttribute("webkit-playsinline")||e.setAttribute("webkit-playsinline","");t||e.webkitExitFullScreen();e.togglePlay(!1),n.hasClass(T.TOUCHED)||n.addClass(T.TOUCHED)}(n,i,t))))},Bt()&&(n.ios_fullscreen_disabled=!0,n.one(O.BEFORE_PLAY,(function(){n.ios_fullscreen_disabled=!1})),n.on("webkitendfullscreen",(function(){n.toggleFullScreen(!1,!0)}),!1)),n.on([O.FULLSCREEN_EXIT,O.FULLSCREEN_ENTER],(function(e){var t=e.type==O.FULLSCREEN_ENTER;n.in_fullscreen=t,n.setState(T.FULLSCREEN,t)})),!1!==e.dblclickable&&t.on(O.DBL_CLICK,(function(e){e.target==t.ui&&n.toggleFullScreen()}))}function Bt(){return k().ios}function Vt(e,t,n){var r=b.div("fp-header"),i=b.div("fp-primary"),a=b.div("fp-duration"),s=function(e,t){var n=b.div("fp-secondary").addClass("fp-togglable");Gt(e,t.root,t);var r=Et(yt).attr("role","button").attr("aria-label",t._t("core.fullscreen")),i=Et(St).attr("role","button").attr("aria-label",t._t("core.fullscreen_exit"));return r.on(O.CLICK,t.toggleFullScreen),i.on(O.CLICK,t.toggleFullScreen),n.append([r,i]),n}(e,n),c={logo:null};n.on(O.CONFIG,(function(e){!function(e,t){if(!t)return e.empty();e.txt(u(t))}(a,o(e,"data.duration"));var t=c.logo,n=o(e,"data.logo");t!=n&&(c.logo=n,function(e,t,n){if(t){e.empty();var r=b.img({class:"fp-logo",src:t,alt:"Brand logo"});if(n){var i=b.a({href:n});i.append(r),r=i}e.append(r)}}(i,n,o(e,"data.logo_href")))})),r.append([i,a,s]),t.append(r),t.reaper.put("header",r),t.reaper.put("header.secondary",s)}It.volume=.1,Ct.inject_bar=xt,Ct.Tick=Ut,Ut.on=function(e){e.addClass("fp-color")},Ut.off=function(e){e.removeClass("fp-color")},Ct.extend_volume_slider=Dt,function(){var e=b.document;if(e){e.on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange msfullscreenchange",(function(){e.emit(O.FULLSCREEN_CHANGE,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)}));var t=Element.prototype;t.requestFullScreen||["webkit","moz","ms"].forEach((function(n){var r=t[n+"RequestFullScreen"]||t.msRequestFullscreen,i=e[n+"CancelFullScreen"]||e.msExitFullscreen;r&&(t.requestFullScreen=r,e.fullscreenEnabled=!0),i&&(e.exitFullScreen=i)})),e.on(O.FULLSCREEN_CHANGE,(function(e){var t,n=!1!==function(){try{if("boolean"==typeof document.fullscreen)return document.fullscreen;if("boolean"==typeof document.mozFullScreen)return document.mozFullScreen;if("boolean"==typeof document.webkitIsFullScreen)return document.webkitIsFullScreen;if("boolean"==typeof document.msFullscreenElement)return document.msFullscreenElement}catch(e){return}}()&&(e.data||e.target||!1);t=n,A.forEach((function(e){if(!1===t)return e.emit(O.FULLSCREEN_EXIT);e.root!==t&&e.in_fullscreen&&e.emit(O.FULLSCREEN_EXIT)}))}))}}();var Wt=[1,2,3];function jt(e,t,n){var r=b.div("fp-middle");return n.root.reaper.put("middle",r),function(e,t){e.on([O.CLICK,O.DBL_CLICK],(function(e){if(!e.defaultPrevented)return e.preventDefault(),t.emit(e.type,e.data),!1})),t.on(O.CLICK,(function(e){setTimeout((function(){e.defaultPrevented||t.hasState(T.WAITING)||t.togglePlay()}),0)})),t.on(O.DBL_CLICK,(function(e){setTimeout((function(){e.defaultPrevented||t.toggleFullScreen()}),0)}))}(r,n),function(e){for(var t=b.div("fp-wait"),n=0;n<4;n++)t.append(b("<b>"));e.append(t)}(r),e.mouseover_play&&n.root.on([O.MOUSE_ENTER,O.MOUSE_LEAVE],(function(e){n.togglePlay("mouseenter"==e.type)})),Wt.forEach((function(e){r.append(b.div("fp-switch",[Lt["PLAY_"+e],Lt["PAUSE_"+e]].map(Ht)).addClass("fp-play-"+e))})),t.append(r),r.attr("tabindex",0),r.attr("role","button"),r.attr("aria-label",n._t("core.play")),n.once([O.PLAYING,O.SEEKED],(function(){r.removeAttribute("tabindex"),r.removeAttribute("role"),r.removeAttribute("aria-label")})),r}function Ht(e){var t=Et(e);return t.removeAttribute("tabindex"),t}var qt="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;var Yt=b.div,Kt=b.span;function zt(e,t,n,r){"function"==typeof n&&(r=n,n=void 0),n="string"==typeof n?" "+n:"",r=r||Yt;var i=Qt(t);return e.put(t,r(i+n))}function Qt(e){return"fp-"+e}function Xt(e,t){return t.translation_key?r({title:e.translate(t.translation_key)},t):t}function Zt(e,t){var n=Yt("fp-controls fp-togglable"),r=x(n),i=zt(r,"timeline",Qt("bar")),o=zt(r,"btns",Qt("small-switch")),a=zt(r,"live-status"),s=zt(r,"live-indicator",Qt("color")),c=zt(r,"live-text").txt("live"),l=zt(r,"buffer"),f=zt(r,"progress",Qt("color")),d=zt(r,"hover"),p=zt(r,"timestamp"),m=zt(r,"duration"),v=zt(r,"elapsed",Kt).txt(u(0)),h=zt(r,"dragger",Qt("color")),g=Xt.bind(null,t);i.attr("role","slider").attr("tabindex","0").attr("aria-label",t.translate("timeline","Timeline")),i.append([l,f,d,p]),n.append([o,a,v,i,m]),a.append([s,c]),x(n);var _=Et(g(Pt)).attr("role","button"),E=Et(g(kt)).attr("role","button");return _.on("click",(function(){setTimeout((function(){E.focus&&E.focus()}),100)})),E.on("click",(function(){setTimeout((function(){_.focus&&_.focus()}),100)})),o.append([_,E]),f.append(h),e.append(n),n}function Jt(e,t){var n=e.innerWidth()/e.parentElement.innerWidth()*100/2;e.css("left",t-n+"%").show()}var $t=Object.freeze({__proto__:null,tooltip_offset:Jt,buffer_update:function(e,t,n){if(!isNaN(t.duration)){var r=t.buffered||{};r.length&&n.buffer.css("width",Math.min(r.end(0)/t.duration*100,100)+"%")}},progress:function(e,t,n){},loadedmetadata:function(e,t,n){t.duration&&n.duration.txt(u(t.duration))},timeupdate:function(e,t,n){n.elapsed.txt(u(t.currentTime))},timeline_repaint:function(e,t,n){n.progress.css("width",t.currentTime/t.duration*100+"%")},timeline_mouse_move:function(e,t,n){n.hover.css("width",e.percent+"%")},timeline_grab_start:function(e,t,n){n.timestamp.show()},timeline_grab_moved:function(e,t,n){n.progress.css("width",e.percent+"%"),t.currentTime=t.duration*(e.percent/100)},timeline_grab_end:function(e,t,n){},recover:function(){},timeline_mouse_enter:function(e,t,n){n.timestamp.show()},timeline_mouse_leave:function(e,t,n){n.hover.css("width",0),n.timestamp.hide()},tooltip_update:function(e,t,n){var r=e.percent,i=n.timestamp;!i||isNaN(r)||isNaN(t.duration)||(Jt(n.timestamp,r),i.empty().append(b.span().txt(u(r/100*t.duration))))}});function en(e){return 100-e}function tn(e){if(e.opts.live_seekable_range)return e.opts.live_seekable_range;if(!e.seekable.length)return{head:0,tail:0};var t=e.opts.live_dvr_window||0,n=e.seekable.end(e.seekable.length-1);return{head:n,tail:Math.max(e.seekable.start(0),n-t)}}function nn(e,t){var n=tn(e),r=t/100*(n.head-n.tail);return n.head-n.tail-r}function rn(e){return e.opts.live_duration||e.duration}function on(e){return e.opts.live_rebuffer_budget||10}function an(e){return e.opts.live_now||un(e)-on(e)}function sn(e){var t=e.opts.live_dvr_window||0;return e.opts.live_now?e.opts.live_now-t:Math.max(0,tn(e).tail-t)}function un(e){return tn(e).head}function cn(e,t){if(0==t)return!0;var n=tn(e);return n.head-n.tail>=t}var ln=Object.freeze({__proto__:null,invert_percent:en,seekable_range:tn,live_waypoint:function(e){try{return e.currentTime-sn(e)}catch(t){return console.error(t),e.currentTime}},seconds_in_past:function(e){return e.currentTime-(nn(e,e.dvr_offset||0)+on(e))},time_watched:function(e){var t=Date.now();return Math.round((t-(e.stream_start||t))/1e3)},seconds_from_head:nn,progress:function(e,t,n){},timeupdate:function(e,t,n){},loadedmetadata:function(e,t,n){},timeline_repaint:function(e,t,n){},tooltip_update:function(e,t,n){if(!t.seeking){var r=nn(t,e.percent);n.timestamp.txt("-"+u(r)),Jt(n.timestamp,e.percent)}},seek_to_now:function(e,t,n){try{t.dvr_offset=0;var r=an(t);t.currentTime=r,t.setState(T.LIVE_SEEKED,!1),n.progress.css("width",0)}catch(e){console.warn("failed to seek to now: %j",e)}},buffer_update:function(e,t,n){},timeline_grab_start:function(e,t,n){},recover:function(e,t,n){t.dvr_offset=0,n.progress.css("width",0),t.setState(T.LIVE_SEEKED,!1)},timeline_grab_moved:function(e,t,n){t.dvr_offset=e.percent;var r=en(t.dvr_offset);n.progress.css("width",r+"%"),t.setState(T.LIVE_SEEKED,r>0);var i=tn(t),o=(i.head-i.tail)*(1-t.dvr_offset/100),a=i.head-o;t.currentTime=a},timeline_grab_end:function(e,t,n){},timeline_mouse_move:function(e,t,n){n.hover.css("width",en(e.percent)+"%")},timeline_mouse_leave:function(e,t,n){n.hover.css("width",0),n.timestamp.hide()},live_duration:rn,rebuffer_budget:on,live_now:an,live_tail:sn,live_head:un,is_dvr:cn});function fn(e){if(!(this instanceof fn))return new fn(e);var t=this.kinds={vod:r({},$t),live:r({},ln)};this.route=function(n,r){var i=(t[n]||{})[r.type];if(i)return i.apply(r.currentTarget,[r].concat(e,n));throw new Error("could not handle routed event of type ("+n+":"+r.type+")")}}function dn(e,t,n){if(e.controls){var r=Zt(t.ui,n.translator),i=t.reaper.put("timeline",r.timeline);t.reaper.put("controls",r);var a=fn([n,r]);n.reaper.put("_behavior",a),Array.prototype.forEach.call(r.btns.childNodes,(function(e){e.on(O.CLICK,n.togglePlay)})),r["live-status"].on(O.CLICK,(function(){a.route("live",{type:"seek_to_now"})})),n.on(O.CONFIG,(function(t){if(0!=n.reaper){var i;if(v(n)||(i=o(t,"data.duration")),void 0===o(t,"data.seekable")&&(e.seekable=!0),isNaN(i)||i>=Number.MAX_SAFE_INTEGER)return r.duration.hide();r.duration.show(),r.duration.txt(u(i))}}));var s,c,l,f,d,p=(s=function(){0!=n.reaper&&(a.route(pn(e),{type:"timeline_repaint"}),n.paused||i&&i.grabbing||requestAnimationFrame(p))},c=60||60,l=Math.ceil(1e3/c),f=0,d=null,function(){var e=Date.now()-f;null===d&&(d=qt((function(){d=null,s.apply(this,arguments),f=Date.now()}),l-e))});n.on(O.PLAYING,p),n.paused||p(n,i),n.on(O.TIME_UPDATE,(function(t){if(0!=n.reaper){var r=pn(e);i.attr("aria-valuenow",n.currentTime),a.route(r,t),a.route(r,{type:"buffer_update"}),p(n,i)}})),n.on(O.PROGRESS,(function(t){if(0!=n.reaper){var r=pn(e);e.live&&function(e){return!("dvr"in e)||1==e.dvr}(e)&&cn(n,e.seconds_to_dvr||0)&&n.setOpts({dvr:!0}),a.route(r,t),a.route(r,{type:"buffer_update"})}})),n.on(O.METADATA,(function(t){if(0!=n.reaper){n.stream_start||n.setOpts({live:v(n)});var r=pn(e);a.route(r,t),a.route(r,{type:"buffer_update"})}})),n.on(O.DURATION_CHANGE,(function(e){if(0!=n.reaper){var t=v(n),r=t?rn(n):e.data||n.duration;0==n.reaper||isNaN(r)||(n.setOpts({live:t,duration:r}),i.attr("aria-valuemax",r),i.attr("aria-valuemin","0"))}})),n.on(O.RECOVER,(function(t){var n=pn(e);a.route(n,t)}));var m=!1;ht(i,{onseek:mn(n,(function(t){var n=pn(e);a.route(n,{type:"timeline_grab_moved",percent:t}),a.route(n,{type:"tooltip_update",percent:t})})),onstart:mn(n,(function(){n.setState(T.SEEKING,!0),a.route(pn(e),{type:"timeline_grab_start"})})),onend:function(){if(n.disabled||0==e.seekable)return p();n.setState(T.SEEKING,!1),a.route(pn(e),{type:"timeline_grab_end"}),p()},ontouch:function(){n.paused||(m=!0,n.pause())},ontouchend:function(){m&&(m=!1,n.play()),a.route(pn(e),{type:"timeline_mouse_leave"})},onmouse:mn(n,(function(t){if(!i.grabbing){var n=pn(e);a.route(n,{type:"timeline_mouse_move",percent:t}),a.route(n,{type:"tooltip_update",percent:t})}}))}).on(O.MOUSE_LEAVE,(function(){a.route(pn(e),{type:"timeline_mouse_leave"})}))}function v(e){return o(e,"opts.live")||e.duration>=Number.MAX_SAFE_INTEGER}}function pn(e){return e.live?"live":"vod"}function mn(e,t){return function(){0!=o(e,"opts.seekable",!0)&&(isNaN(e.duration)||e.disabled||t.apply(null,arguments))}}var vn={"-1":"an unknown error occurred",1:"media playback was aborted",2:"a network error occurred",3:"unable to decode media content",4:"unsupported media type"};function hn(e){try{return"https:"===location.protocol&&"http:"==function(e){var t=document.createElement("a");return t.href=e,t}(e).protocol}catch(e){return!1}}function gn(e,n,r){r.on(O.ERROR,(function(e){var i=e.data||r.error||{},o=r.togglePlay,a=e.code||i.code;console.error(i),setTimeout((function(){if(!e.defaultPrevented&&"AbortError"!=i.name){r.setState(T.ERRORED,!0),8!=a&&(r.togglePlay=t,r.one(O.RECOVER,(function(){r.togglePlay=o,r.setState(T.ERRORED,!1);var e=n.find(".fp-error");e&&e.remove()}))),4==a&&r.one(O.LOAD_START,(function(){r.emit(O.RECOVER)})),hn(r.original_src)&&"http:0"==i.code&&(i.message="attempted to load http content in an https context"),!1===(navigator||{}).onLine&&(i.code=2,i.message="Not connected to internet");var s=function(e,t){if(t.message)return t.message;if(t.stack)return t.stack;var n=t.code||-1;return e._t("media_errors."+n,vn[n]||vn[-1])}(r,i);return function(e,t,n,r){if(e){var i=b.div("fp-error").txt(t);if(r){var o=e.querySelector("#"+r);o&&e.removeChild(o),i.id=r}e.append(i),n&&i.append(b.div("fp-error-details").txt(n))}}(n.ui,s,i.details)}}))}))}var _n={0:"is-loading-0",1:"is-loading-1",2:"is-loading-2",3:"is-loading-3"};function En(e,t,n){setTimeout((function(){e.addClass(_n[t]);for(var r=t;r<4;)e.removeClass(_n[r]),++r;n&&n()}),400-66*t)}function yn(e,t){var n={token_id:e,factor:1,rnd:Math.random().toString(36).substring(2)},r=new XMLHttpRequest,i=JSON.stringify(n),o="undefined"!=typeof flowplayer&&flowplayer.METERING_URL?flowplayer.METERING_URL:"https://pmi.flowplayer.com/in";r.open("POST",o,!0),r.timeout=2500,r.send(i),r.addEventListener("load",t.bind(null,r))}function Sn(e){if(!(this instanceof Sn))return new Sn(e);this.dictionaries=e,this.translate=function(e,t){return void 0===t&&(t=""),function e(t,n,r,i){return(i=i||0)>=t.length?r:o(t[i],n,e(t,n,r,i+1))}(this.dictionaries,e,t)}}Sn.of=Sn;var bn={ads:{ad:"Ad",ads:"Ads",advertisement:"Advertisement"},audio:{button_txt:"Audio",menu_title:"Audio"},core:{exit_fullscreen:"Exit fullscreen",fullscreen:"Fullscreen",mute:"Mute",pause:"Pause",play:"Play",unmute:"Unmute",volume:"Volume"},ovp:{starting_in:"Countdown"},playlist:{cancel:"Cancel",up_next:"Up next"},qsel:{menu_title:"Quality"},share:{clipboard_failure:"Access to clipboard failed",clipboard_success:"The text is now on your clipboard",embed:"Embed",link:"Link",menu_title:"Share"},speed:{menu_title:"Speed"}},An=[].concat;var wn=Ee(window,(function(){}));return wn.onapi=function(e,t,n){n.reaper.put("translator",new Sn(function(e,t){var n={};wn[e.lang]&&(n[e.lang]=wn[e.lang]);(function(){try{return An.apply([],(navigator.languages||[navigator.language]).map((function(e){return~e.indexOf("-")?[e,e.split("-")[0]]:[e]}))).map((function(e){return e.toLowerCase()}))}catch(e){return[]}})().forEach((function(e){wn[e]&&!n[e]&&(n[e]=wn[e])})),n.length||(n[t]=wn[t]);return function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}(n)}(e,"en"))),n._t=function(e,t){return n.translator.translate(e,t||"")}},wn.en=bn,function(e){if("undefined"==typeof document||~ve.indexOf(document.readyState))return e();document.addEventListener("DOMContentLoaded",e)}((function(){!function(e){if("undefined"!=typeof DOMParser){var t=(new DOMParser).parseFromString(e,"image/svg+xml"),n=document.importNode(t.documentElement,!0);n.style.display="none",document.body.appendChild(n)}}("<svg id='fp-icons' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><path id='FS' d='M1 9V1h12'/><path id='fp-play-button' d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(90 20 25.4)'/><g id='fp-pause-lines'><rect class='fp-rect' x='8.5' y='5' width='11' height='36'/><rect class='fp-rect' x='26.5' y='5' width='11' height='36'/></g><path id='fp-speaker' d='M39.389,13.769 L22.235,28.606 L6,28.606 L6,47.699 L21.989,47.699 L39.389,62.75 L39.389,13.769z'/></defs><g id='fp-play' class='fp-fill'><use xlink:href='#fp-play-button'></use></g><g id='fp-play-circle' class='fp-fill'><circle cx='22.9' cy='22.9' r='23.5' class='fp-thin-stroke' fill='none'/><use xlink:href='#fp-play-button' transform='translate(11.5, 9.8) scale(.57)'></use></g><g id='fp-play-stroke' fill='none' class='fp-thin-stroke'><use xlink:href='#fp-play-button'></use></g><g id='fp-pause' class='fp-fill'><use xlink:href='#fp-pause-lines'></use></g><g id='fp-pause-stroke' fill='none' class='fp-thin-stroke'><use xlink:href='#fp-pause-lines'></use></g><g id='fp-volume' class='fp-fill'><path class='fp-rect' d='M0 15h30v24H0z'/><path d='M1 27L31 0v54z'/></g><g id='fp-fs' fill='none' class='fp-thin-stroke'><use xlink:href='#FS'/><use xlink:href='#FS' transform='matrix(1 0 0 -1 0 26)'/><use xlink:href='#FS' transform='matrix(-1 0 0 1 36 0)'/><use xlink:href='#FS' transform='rotate(180 18 13)'/></g><g id='fp-exit' fill='none' class='fp-thin-stroke'><use xlink:href='#FS' transform='translate(22 17)'/><use xlink:href='#FS' transform='matrix(-1 0 0 1 13 17)'/><use xlink:href='#FS' transform='rotate(180 6.5 4.5)'/><use xlink:href='#FS' transform='matrix(1 0 0 -1 22 9)'/></g><g id='fp-facebook'><path fill='#4469B0' d='M448 56.7v398.5c0 13.7-11.1 24.7-24.7 24.7H309.1V306.5h58.2l8.7-67.6h-67v-43.2c0-19.6 5.4-32.9 33.5-32.9h35.8v-60.5c-6.2-.8-27.4-2.7-52.2-2.7-51.6 0-87 31.5-87 89.4v49.9h-58.4v67.6h58.4V480H24.7C11.1 480 0 468.9 0 455.3V56.7C0 43.1 11.1 32 24.7 32h398.5c13.7 0 24.8 11.1 24.8 24.7z'/></g><g id='fp-link'><path fill='currentColor' d='M301.148 394.702l-79.2 79.19c-50.778 50.799-133.037 50.824-183.84 0-50.799-50.778-50.824-133.037 0-183.84l79.19-79.2a132.833 132.833 0 0 1 3.532-3.403c7.55-7.005 19.795-2.004 20.208 8.286.193 4.807.598 9.607 1.216 14.384.481 3.717-.746 7.447-3.397 10.096-16.48 16.469-75.142 75.128-75.3 75.286-36.738 36.759-36.731 96.188 0 132.94 36.759 36.738 96.188 36.731 132.94 0l79.2-79.2.36-.36c36.301-36.672 36.14-96.07-.37-132.58-8.214-8.214-17.577-14.58-27.585-19.109-4.566-2.066-7.426-6.667-7.134-11.67a62.197 62.197 0 0 1 2.826-15.259c2.103-6.601 9.531-9.961 15.919-7.28 15.073 6.324 29.187 15.62 41.435 27.868 50.688 50.689 50.679 133.17 0 183.851zm-90.296-93.554c12.248 12.248 26.362 21.544 41.435 27.868 6.388 2.68 13.816-.68 15.919-7.28a62.197 62.197 0 0 0 2.826-15.259c.292-5.003-2.569-9.604-7.134-11.67-10.008-4.528-19.371-10.894-27.585-19.109-36.51-36.51-36.671-95.908-.37-132.58l.36-.36 79.2-79.2c36.752-36.731 96.181-36.738 132.94 0 36.731 36.752 36.738 96.181 0 132.94-.157.157-58.819 58.817-75.3 75.286-2.651 2.65-3.878 6.379-3.397 10.096a163.156 163.156 0 0 1 1.216 14.384c.413 10.291 12.659 15.291 20.208 8.286a131.324 131.324 0 0 0 3.532-3.403l79.19-79.2c50.824-50.803 50.799-133.062 0-183.84-50.802-50.824-133.062-50.799-183.84 0l-79.2 79.19c-50.679 50.682-50.688 133.163 0 183.851z'/></g><g id='fp-share' class='fp-fill'><path d='M448 416c0 53.019-42.981 96-96 96s-96-42.981-96-96c0-12.965 2.576-25.327 7.235-36.61l-95.45-59.657C150.199 339.525 124.558 352 96 352c-53.019 0-96-42.981-96-96s42.981-96 96-96c28.558 0 54.199 12.475 71.784 32.267l95.45-59.657C258.576 121.327 256 108.965 256 96c0-53.019 42.981-96 96-96s96 42.981 96 96-42.981 96-96 96c-28.558 0-54.199-12.475-71.784-32.267l-95.451 59.656c9.661 23.396 9.641 49.87 0 73.22l95.451 59.656C297.801 332.475 323.442 320 352 320c53.019 0 96 42.981 96 96zM352 32c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64M96 192c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64m256 160c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64'/></g><g id='fp-twitter'><path fill='#29A3EF' d='M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z'/></g><g id='fp-airplay'><path d='M116.364 477.091h279.272L256 337.455z'/><path d='M465.455 34.909H46.545C20.945 34.909 0 55.855 0 81.455v279.273c0 25.6 20.945 46.545 46.545 46.545h93.091v-46.545H46.545V81.455h418.909v279.273h-93.091v46.545h93.091c25.6 0 46.545-20.945 46.545-46.545V81.455c.001-25.6-20.944-46.546-46.544-46.546z'/></g><g id='fp-skip-next' fill='#fff' fill-rule='evenodd'><path d='M33.23 22.696L3.56 41.223A2 2 0 0 1 .5 39.527V2.473A2 2 0 0 1 3.56.776l29.67 18.527a2 2 0 0 1 0 3.393z'/><rect x='33' y='.5' width='7' height='41' rx='2'/></g><g id='fp-skip-prev'><use xlink:href='#fp-skip-next' transform='rotate(180 21 21)'></use></g><g id='fp-close' class='fp-float-player-icons'><path d='M 48.651772,50.269646 69.395223,25.971024'/><path d='M 69.395223,50.269646 48.651772,25.971024'/></g><g id='fp-unmute' class='fp-float-player-icons'><use xlink:href='#fp-speaker'></use><path fill='none' d='M48,27.6a19.5,19.5 0 0 1 0,21.4M55.1,20.5a30,30 0 0 1 0,35.6M61.6,14a38.8,38.8 0 0 1 0,48.6'/></g><g id='fp-mute' class='fp-float-player-icons'><use xlink:href='#fp-speaker'></use><use xlink:href='#fp-close'></use></g></svg> ")})),Me(wn,st,(function(e,t,n){var r=document.createDocumentFragment(),i=b.div("fp-ui");x(i),r.appendChild(i),t.reaper.put("ui",i),~t.className.indexOf("use-play-")||t.addClass("use-play-"+(e.play||1)),function(e,t,n){var r=t.append(b.div({class:"fp-footer"}));n.on(O.CONFIG,(function(e){var t=e.data,n=t.description,i=t.title;if(r.empty(),"string"==typeof i&&r.append(b.div({class:"fp-title"}).txt(t.title)),"string"==typeof n){var o=n.split(" "),a=b.div({class:"fp-desc"}).txt(o.join(" "));for(r.append(a);o.length>1&&a.scrollHeight>a.offsetHeight;)o.pop(),a.txt(o.join(" ")+"...")}}))}(0,t,n),Vt(e,i,n),jt(e,i,n),dn(e,t,n),Ct(e,t.controls,n),gn(0,t,n),t.appendChild(r),t.on([O.MOUSE_ENTER,O.MOUSE_LEAVE],(function(e){n.setState("is-hovered",e.type==O.MOUSE_ENTER),n.setState("is-accessibility",!1)})),n.on(O.CONFIG,(function(e){var n=o(e,"data.ui",{});"number"==typeof n&&(t.toggleClass("use-play-1",!(32&n||64&n)),t.toggleClass("use-play-2",32&n),t.toggleClass("use-play-3",64&n),t.toggleClass("use-thin-controlbar",128&n),t.toggleClass("no-title",256&n),t.toggleClass("no-description",512&n),t.toggleClass("logo-on-right",8&n),t.toggleClass("use-drag-handle",16&n),t.toggleClass("no-controls",1024&n),t.toggleClass("no-duration",2048&n),t.toggleClass("no-header",4096&n),t.toggleClass("no-mute",4&n),t.toggleClass("no-volume",2&n),t.toggleClass("no-fullscreen",1&n))}));var a=!1;i.on(O.MOUSE_MOVE,(function(){"number"==typeof a&&clearTimeout(a),n.setState("is-hovered",!0),a=0==n.paused&&setTimeout((function(){n.setState("is-hovered",!1)}),2e3)}))}),(function(e,t,n){0!=e.animation&&"none"!=e.preload&&(t.addClass(_n[3]),n.on(O.LOAD_START,(function(){En(t,2)})),n.on(O.METADATA,(function(){En(t,1)})),n.on(O.CAN_PLAY,(function(){En(t,0)})))}),(function(e,t,n){[lt,mt].forEach((function(r){r(e,t,n)}))}),(function(e,t,n){if(!qe.from_token(e.token).is_granted(qe.permissions.NO_METERING)){var r=we.id(e.token);if(r){var i=yn.bind(null,r,(function(e){403===e.status&&n.emit(O.NON_RECOVERABLE_ERROR,{reason:"token",details:"The token online validation failed"})}));n.one(O.PLAYING,i)}}})),Me.volume=Ct,Me.storage=gt,Me.i18n=wn,Me.ui=Rt,Me}));
